<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>TimeTrack Pro - –¶–∞–≥ –±“Ø—Ä—Ç–≥—ç–ª–∏–π–Ω —Å–∏—Å—Ç–µ–º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* –£—Ç—Å–∞–Ω–¥ –∑–æ—Ä–∏—É–ª—Å–∞–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ */
        @media (max-width: 768px) {
            .glass-effect {
                margin: 1rem;
                padding: 1.5rem;
            }
            
            .grid {
                gap: 1rem;
            }
            
            button {
                min-height: 48px; /* –£—Ç—Å–∞–Ω–¥ –¥–∞—Ä–∞—Ö–∞–¥ —Ç–æ—Ö–∏—Ä–æ–º–∂—Ç–æ–π —Ö—ç–º–∂—ç—ç */
            }
            
            input, select {
                min-height: 48px;
                font-size: 16px; /* iOS-–¥ zoom-—ã–≥ –∑–æ–≥—Å–æ–æ—Ö */
            }
        }
        
        /* Touch-friendly —ç–ª–µ–º–µ–Ω—Ç“Ø“Ø–¥ */
        .touch-manipulation {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <!-- –ù—ç–≤—Ç—Ä—ç—Ö —Ö—ç—Å—ç–≥ -->
    <div id="loginScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-8 w-full max-w-md slide-in">
            <div class="text-center mb-8">
                <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 pulse-animation">
                    <span class="text-3xl">‚è∞</span>
                </div>
                <h1 class="text-4xl font-bold text-white mb-2">TimeTrack Pro</h1>
                <p class="text-white/80 text-lg">–¶–∞–≥ –±“Ø—Ä—Ç–≥—ç–ª–∏–π–Ω —Å–∏—Å—Ç–µ–º</p>
                

            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-white/90 text-sm font-medium mb-2">–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä</label>
                    <input type="tel" id="phoneNumber" class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" placeholder="99123456" required>
                </div>
                
                <div>
                    <label class="block text-white/90 text-sm font-medium mb-2">–ù—É—É—Ü “Ø–≥</label>
                    <input type="password" id="password" class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                
                <button type="submit" class="w-full bg-white text-purple-700 py-3 rounded-lg font-semibold hover:bg-white/90 transition-all duration-200 transform hover:scale-105">
                    –ù—ç–≤—Ç—Ä—ç—Ö
                </button>
                
                <div class="mt-4 text-center">
                    <p class="text-white/70 text-sm mb-3">–≠—Å–≤—ç–ª –±–∏–æ–º–µ—Ç—Ä–∏–∫ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç</p>
                    <div class="flex flex-col space-y-3 md:flex-row md:space-y-0 md:space-x-3 justify-center">
                        <button type="button" onclick="authenticateFingerprint()" class="bg-white/20 hover:bg-white/30 active:bg-white/40 text-white px-6 py-4 rounded-lg transition-colors flex items-center justify-center space-x-3 touch-manipulation">
                            <span class="text-2xl">üëÜ</span>
                            <span class="text-lg">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç</span>
                        </button>
                        <button type="button" onclick="authenticateFace()" class="bg-white/20 hover:bg-white/30 active:bg-white/40 text-white px-6 py-4 rounded-lg transition-colors flex items-center justify-center space-x-3 touch-manipulation">
                            <span class="text-2xl">üë§</span>
                            <span class="text-lg">–¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö—ç—Å—ç–≥ -->
    <div id="biometricSetupScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-8 w-full max-w-md slide-in">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-2xl">üîê</span>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">–ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ö–∞–º–≥–∞–∞–ª–∞–ª—Ç</h2>
                <p class="text-white/80">–î–∞—Ä–∞–∞–≥–∏–π–Ω —É–¥–∞–∞ —Ö—É—Ä–¥–∞–Ω –Ω—ç–≤—Ç—Ä—ç—Ö–∏–π–Ω —Ç—É–ª–¥ –±–∏–æ–º–µ—Ç—Ä–∏–∫ —Ö–∞–º–≥–∞–∞–ª–∞–ª—Ç —Ç–æ—Ö–∏—Ä—É—É–ª–Ω–∞ —É—É</p>
            </div>
            
            <div class="space-y-4">
                <div class="bg-white/10 rounded-lg p-4 border border-white/20">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">üëÜ</span>
                            <div>
                                <div class="text-white font-medium">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç</div>
                                <div class="text-white/70 text-sm">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç–≥—ç—ç—Ä –Ω—ç–≤—Ç—Ä—ç—Ö</div>
                            </div>
                        </div>
                        <input type="checkbox" id="fingerprintCheck" class="w-5 h-5 rounded">
                    </div>
                    <button onclick="setupFingerprint()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg transition-colors">
                        –•—É—Ä—É—É–Ω—ã —Ö—ç—ç –±“Ø—Ä—Ç–≥—ç—Ö
                    </button>
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 border border-white/20">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">üë§</span>
                            <div>
                                <div class="text-white font-medium">–¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö</div>
                                <div class="text-white/70 text-sm">–¶–∞—Ä–∞–π–≥–∞–∞—Ä –Ω—ç–≤—Ç—Ä—ç—Ö</div>
                            </div>
                        </div>
                        <input type="checkbox" id="faceCheck" class="w-5 h-5 rounded">
                    </div>
                    <button onclick="setupFace()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors">
                        –¶–∞—Ä–∞–π –±“Ø—Ä—Ç–≥—ç—Ö
                    </button>
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button onclick="skipBiometricSetup()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors">
                        –ê–ª–≥–∞—Å–∞—Ö
                    </button>
                    <button onclick="completeBiometricSetup()" class="flex-1 bg-white text-purple-700 py-3 rounded-lg font-semibold hover:bg-white/90 transition-colors">
                        –î—É—É—Å–≥–∞—Ö
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- “Æ–Ω–¥—Å—ç–Ω —Ö—ç—Å—ç–≥ -->
    <div id="mainScreen" class="hidden min-h-screen">
        <!-- –¢–æ–ª–≥–æ–π —Ö—ç—Å—ç–≥ -->
        <header class="glass-effect p-4">
            <div class="max-w-6xl mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center cursor-pointer hover:bg-white/90 transition-colors" onclick="showProfile()">
                        <span class="text-2xl" id="userAvatar">‚è∞</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-white" id="userName">TimeTrack Pro</h1>
                        <p class="text-white/70 text-sm" id="userPosition">–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É!</p>
                        <p class="text-white/60 text-xs" id="userPhone"></p>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <div class="text-white text-right">
                        <div class="text-lg font-semibold" id="currentTime"></div>
                        <div class="text-sm text-white/70" id="currentDate"></div>
                    </div>
                    <button onclick="showChat()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors">
                        üí¨ –ß–∞—Ç
                    </button>
                    <button onclick="showAppreciation()" class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition-colors">
                        üôè –¢–∞–ª–∞—Ä—Ö–∞–ª
                    </button>
                    <button onclick="showBiometricSettings()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors">
                        üîê –¢–æ—Ö–∏—Ä–≥–æ–æ
                    </button>
                    <button onclick="showAdminPanel()" id="adminBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors hidden">
                        üë®‚Äçüíº –ê–¥–º–∏–Ω
                    </button>
                    <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">
                        –ì–∞—Ä–∞—Ö
                    </button>
                </div>
            </div>
        </header>

        <!-- “Æ–Ω–¥—Å—ç–Ω –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="max-w-6xl mx-auto p-6">
            <!-- –°—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <div class="glass-effect rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">üë•</div>
                    <div class="text-2xl font-bold text-white" id="totalEmployees">247</div>
                    <div class="text-white/70">–ù–∏–π—Ç –∞–∂–∏–ª—Ç–∞–Ω</div>
                </div>
                
                <div class="glass-effect rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">‚úÖ</div>
                    <div class="text-2xl font-bold text-green-300" id="checkedIn">189</div>
                    <div class="text-white/70">–ò—Ä—Å—ç–Ω</div>
                </div>
                
                <div class="glass-effect rounded-xl p-6 text-center">
                    <div class="text-3xl mb-2">‚ùå</div>
                    <div class="text-2xl font-bold text-red-300" id="absent">58</div>
                    <div class="text-white/70">–ò—Ä—ç—ç–≥“Ø–π</div>
                </div>
            </div>

            <!-- –¶–∞–≥ –±“Ø—Ä—Ç–≥—ç—Ö —Ö—ç—Å—ç–≥ -->
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h2 class="text-2xl font-bold text-white mb-6 text-center">–¶–∞–≥ –±“Ø—Ä—Ç–≥—ç—Ö</h2>
                
                <div class="grid grid-cols-1 gap-4 md:grid-cols-2 md:gap-6">
                    <button onclick="checkIn()" id="checkInBtn" class="bg-green-500 hover:bg-green-600 active:bg-green-700 text-white py-8 rounded-xl font-semibold text-xl transition-all duration-200 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation">
                        <div class="text-4xl mb-3">üü¢</div>
                        –ê–∂–∏–ª–¥ –∏—Ä—ç—Ö
                    </button>
                    
                    <button onclick="checkOut()" id="checkOutBtn" class="bg-red-500 hover:bg-red-600 active:bg-red-700 text-white py-8 rounded-xl font-semibold text-xl transition-all duration-200 transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation" disabled>
                        <div class="text-4xl mb-3">üî¥</div>
                        –ê–∂–ª–∞–∞—Å –≥–∞—Ä–∞—Ö
                    </button>
                </div>
                
                <div id="locationStatus" class="mt-4 p-4 bg-blue-500/20 rounded-lg text-center text-white hidden">
                    <div class="text-lg">üìç –ë–∞–π—Ä—à–∏–ª —à–∞–ª–≥–∞–∂ –±–∞–π–Ω–∞...</div>
                </div>
                
                <div id="statusMessage" class="mt-4 p-4 rounded-lg text-center text-white hidden"></div>
            </div>

            <!-- –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Å—Ç–∞—Ç—É—Å -->
            <div class="glass-effect rounded-xl p-6 mb-8">
                <h3 class="text-xl font-bold text-white mb-4">–ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Å—Ç–∞—Ç—É—Å</h3>
                <div id="workStatus" class="grid md:grid-cols-3 gap-4">
                    <div class="bg-white/10 rounded-lg p-4 text-center">
                        <div class="text-2xl mb-2">‚è∞</div>
                        <div class="text-white font-medium">–ê–∂–∏–ª–ª–∞—Å–∞–Ω —Ü–∞–≥</div>
                        <div class="text-2xl font-bold text-blue-300" id="workedHours">0:00</div>
                    </div>
                    <div class="bg-white/10 rounded-lg p-4 text-center">
                        <div class="text-2xl mb-2">üéØ</div>
                        <div class="text-white font-medium">–•—ç—Ä—ç–≥—Ç—ç–π —Ü–∞–≥</div>
                        <div class="text-2xl font-bold text-white" id="requiredHours">8:00</div>
                    </div>
                    <div class="bg-white/10 rounded-lg p-4 text-center">
                        <div class="text-2xl mb-2" id="statusIcon">‚è≥</div>
                        <div class="text-white font-medium">–°—Ç–∞—Ç—É—Å</div>
                        <div class="text-lg font-bold" id="workStatusText">–ê–∂–∏–ª —ç—Ö–ª—ç—ç–≥“Ø–π</div>
                    </div>
                </div>
            </div>

            <!-- ”®–Ω”©”©–¥—Ä–∏–π–Ω –±“Ø—Ä—Ç–≥—ç–ª -->
            <div class="glass-effect rounded-xl p-6">
                <h3 class="text-xl font-bold text-white mb-4">”®–Ω”©”©–¥—Ä–∏–π–Ω –º–∏–Ω–∏–π –±“Ø—Ä—Ç–≥—ç–ª</h3>
                <div id="todayRecords" class="space-y-3">
                    <!-- –ë“Ø—Ä—Ç–≥—ç–ª“Ø“Ø–¥ —ç–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞ -->
                </div>
            </div>
        </main>
    </div>

    <!-- –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ–Ω—ã –º–æ–¥–∞–ª -->
    <div id="biometricSettingsModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üîê –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ</h2>
                <button onclick="hideBiometricSettings()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="space-y-4">
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">üëÜ</span>
                            <div>
                                <div class="text-white font-medium">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç</div>
                                <div class="text-white/70 text-sm" id="fingerprintStatus">–ë“Ø—Ä—Ç–≥—ç–≥–¥—ç—ç–≥“Ø–π</div>
                            </div>
                        </div>
                        <button onclick="toggleFingerprint()" id="fingerprintToggle" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm transition-colors">
                            –ò–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
                        </button>
                    </div>
                </div>
                
                <div class="bg-white/10 rounded-lg p-4">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">üë§</span>
                            <div>
                                <div class="text-white font-medium">–¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö</div>
                                <div class="text-white/70 text-sm" id="faceStatus">–ë“Ø—Ä—Ç–≥—ç–≥–¥—ç—ç–≥“Ø–π</div>
                            </div>
                        </div>
                        <button onclick="toggleFace()" id="faceToggle" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm transition-colors">
                            –ò–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª -->
    <div id="adminPanel" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">üë®‚Äçüíº –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª</h2>
                <button onclick="hideAdminPanel()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6">
                <!-- –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-xl font-semibold text-white mb-4">‚ûï –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö</h3>
                    <form id="addEmployeeForm" class="space-y-4">
                        <input type="text" id="empName" placeholder="–ù—ç—Ä" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" required>
                        <input type="tel" id="empPhone" placeholder="–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" required>
                        <input type="text" id="empPosition" placeholder="–ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" required>
                        <input type="password" id="empPassword" placeholder="–ù—É—É—Ü “Ø–≥" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" required>
                        
                        <!-- –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å -->
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-white font-medium mb-3 flex items-center">
                                <span class="mr-2">‚è∞</span>
                                –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å
                            </div>
                            
                            <div class="grid grid-cols-2 gap-3 mb-3">
                                <div>
                                    <label class="block text-white/70 text-sm mb-1">–ò—Ä—ç—Ö —Ü–∞–≥</label>
                                    <input type="time" id="empStartTime" value="09:00" class="w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                                </div>
                                <div>
                                    <label class="block text-white/70 text-sm mb-1">–ì–∞—Ä–∞—Ö —Ü–∞–≥</label>
                                    <input type="time" id="empEndTime" value="18:00" class="w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                                </div>
                            </div>
                            
                            <div class="text-white/70 text-sm mb-2">–ê–∂–ª—ã–Ω ”©–¥—Ä“Ø“Ø–¥:</div>
                            <div class="grid grid-cols-4 gap-2">
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empMon" checked class="rounded">
                                    <span class="text-white/80">–î–∞</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empTue" checked class="rounded">
                                    <span class="text-white/80">–ú—è</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empWed" checked class="rounded">
                                    <span class="text-white/80">–õ—Ö</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empThu" checked class="rounded">
                                    <span class="text-white/80">–ü“Ø</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empFri" checked class="rounded">
                                    <span class="text-white/80">–ë–∞</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empSat" class="rounded">
                                    <span class="text-white/80">–ë—è</span>
                                </label>
                                <label class="flex items-center space-x-2 text-sm">
                                    <input type="checkbox" id="empSun" class="rounded">
                                    <span class="text-white/80">–ù—è</span>
                                </label>
                            </div>
                            
                            <div class="flex space-x-2 mt-3">
                                <button type="button" onclick="setEmployeeScheduleTemplate('standard')" class="flex-1 bg-blue-500/30 hover:bg-blue-500/50 text-white py-1 px-2 rounded text-xs transition-colors">
                                    –°—Ç–∞–Ω–¥–∞—Ä—Ç
                                </button>
                                <button type="button" onclick="setEmployeeScheduleTemplate('flexible')" class="flex-1 bg-green-500/30 hover:bg-green-500/50 text-white py-1 px-2 rounded text-xs transition-colors">
                                    –£—è–Ω —Ö–∞—Ç–∞–Ω
                                </button>
                                <button type="button" onclick="setEmployeeScheduleTemplate('early')" class="flex-1 bg-yellow-500/30 hover:bg-yellow-500/50 text-white py-1 px-2 rounded text-xs transition-colors">
                                    –≠—Ä—Ç
                                </button>
                            </div>
                        </div>
                        
                        <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors">
                            –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö
                        </button>
                    </form>
                </div>
                
                <!-- –ê–∂–∏–ª—Ç–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-xl font-semibold text-white mb-4">üë• –ê–∂–∏–ª—Ç–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç</h3>
                    <div class="space-y-3 max-h-96 overflow-y-auto" id="employeeList">
                        <div class="bg-white/10 rounded-lg p-3">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <div class="text-white font-medium">–ë–∞—Ç–±–∞—è—Ä</div>
                                    <div class="text-white/70 text-sm">99123456 ‚Ä¢ –ü—Ä–æ–≥—Ä–∞–º–∏—Å—Ç</div>
                                    <div class="text-green-300 text-xs">üëÜüë§ –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π</div>
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="editSchedule('99123456', '–ë–∞—Ç–±–∞—è—Ä')" class="text-blue-400 hover:text-blue-300">‚è∞</button>
                                    <button onclick="removeEmployee('99123456')" class="text-red-400 hover:text-red-300">üóëÔ∏è</button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center text-xs">
                                <span class="text-green-300">‚úÖ –ë“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Å–∞–Ω (8:15)</span>
                                <span class="text-white/70">09:00-18:15</span>
                            </div>
                        </div>
                        
                        <div class="bg-white/10 rounded-lg p-3">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <div class="text-white font-medium">–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª</div>
                                    <div class="text-white/70 text-sm">99234567 ‚Ä¢ –î–∏–∑–∞–π–Ω–µ—Ä</div>
                                    <div class="text-yellow-300 text-xs">üëÜ –•—É—Ä—É—É–Ω—ã —Ö—ç—ç –±“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π</div>
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="editSchedule('99234567', '–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª')" class="text-blue-400 hover:text-blue-300">‚è∞</button>
                                    <button onclick="removeEmployee('99234567')" class="text-red-400 hover:text-red-300">üóëÔ∏è</button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center text-xs">
                                <span class="text-yellow-300">‚ö†Ô∏è –•–æ—Ü–æ—Ä—Å–æ–Ω (6:30)</span>
                                <span class="text-white/70">10:30-17:00</span>
                            </div>
                        </div>
                        
                        <div class="bg-white/10 rounded-lg p-3">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <div class="text-white font-medium">–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä</div>
                                    <div class="text-white/70 text-sm">99345678 ‚Ä¢ –ú–µ–Ω–µ–∂–µ—Ä</div>
                                    <div class="text-blue-300 text-xs">üë§ –¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö –±“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π</div>
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="editSchedule('99345678', '–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä')" class="text-blue-400 hover:text-blue-300">‚è∞</button>
                                    <button onclick="removeEmployee('99345678')" class="text-red-400 hover:text-red-300">üóëÔ∏è</button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center text-xs">
                                <span class="text-red-300">‚ùå –¢–∞–ª –∞–∂–∏–ª–ª–∞—Å–∞–Ω (4:45)</span>
                                <span class="text-white/70">08:30-13:15</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-xl font-semibold text-white mb-4">‚è∞ –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å</h3>
                    <div class="space-y-3">
                        <div class="bg-white/10 rounded-lg p-3">
                            <div class="text-white font-medium mb-2">–°—Ç–∞–Ω–¥–∞—Ä—Ç —Ü–∞–≥</div>
                            <div class="grid grid-cols-2 gap-2 text-sm">
                                <div class="text-white/70">–ò—Ä—ç—Ö: 09:00</div>
                                <div class="text-white/70">–ì–∞—Ä–∞—Ö: 18:00</div>
                            </div>
                        </div>
                        
                        <div class="bg-white/10 rounded-lg p-3">
                            <div class="text-white font-medium mb-2">”®–Ω”©”©–¥—Ä–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å</div>
                            <div class="space-y-1 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-white/70">–ë–∞—Ç–±–∞—è—Ä</span>
                                    <span class="text-green-300">09:00-18:00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-white/70">–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª</span>
                                    <span class="text-blue-300">10:00-19:00</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-white/70">–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä</span>
                                    <span class="text-yellow-300">08:30-17:30</span>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="showBulkSchedule()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-2 rounded-lg transition-colors">
                            üìÖ –ë“Ø—Ö –∞–∂–∏–ª—Ç–Ω—ã —Ö—É–≤–∞–∞—Ä—å
                        </button>
                        
                        <button onclick="showNotificationSettings()" class="w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-lg transition-colors">
                            üìß –ú—ç–¥—ç–≥–¥—ç–ª —Ç–æ—Ö–∏—Ä–≥–æ–æ
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –¢–∞–π–ª–∞–Ω —Ö—ç—Å—ç–≥ -->
            <div class="mt-6 bg-white/10 rounded-xl p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-semibold text-white">üìä –¢–∞–π–ª–∞–Ω</h3>
                    <button onclick="showDetailedReports()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors text-sm">
                        üìà –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–∞–π–ª–∞–Ω
                    </button>
                </div>
                <div class="grid md:grid-cols-4 gap-4">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-white">247</div>
                        <div class="text-white/70 text-sm">–ù–∏–π—Ç –∞–∂–∏–ª—Ç–∞–Ω</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-300">189</div>
                        <div class="text-white/70 text-sm">”®–Ω”©”©–¥”©—Ä –∏—Ä—Å—ç–Ω</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-300">156</div>
                        <div class="text-white/70 text-sm">–ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±“Ø—Ä—Ç–≥—ç–ª—Ç—ç–π</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-yellow-300">91</div>
                        <div class="text-white/70 text-sm">–•–æ—Ü–æ—Ä—Å–æ–Ω</div>
                    </div>
                </div>
                
                <!-- Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ -->
                <div class="mt-6 grid md:grid-cols-3 gap-4">
                    <div class="bg-white/5 rounded-lg p-4 text-center">
                        <div class="text-lg font-bold text-blue-300" id="avgWorkHours">7.8</div>
                        <div class="text-white/70 text-sm">–î—É–Ω–¥–∞–∂ –∞–∂–ª—ã–Ω —Ü–∞–≥</div>
                    </div>
                    <div class="bg-white/5 rounded-lg p-4 text-center">
                        <div class="text-lg font-bold text-green-300" id="onTimeRate">85%</div>
                        <div class="text-white/70 text-sm">–¶–∞–≥—Ç–∞–∞ –∏—Ä—ç—Ö —Ö—É–≤—å</div>
                    </div>
                    <div class="bg-white/5 rounded-lg p-4 text-center">
                        <div class="text-lg font-bold text-purple-300" id="productivityScore">92</div>
                        <div class="text-white/70 text-sm">–ë“Ø—Ç—ç—ç–º–∂–∏–π–Ω –æ–Ω–æ–æ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä–∏–π–Ω –º–æ–¥–∞–ª -->
    <div id="scheduleModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white" id="scheduleModalTitle">‚è∞ –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö</h2>
                <button onclick="hideScheduleModal()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="space-y-4">
                <div class="grid grid-cols-7 gap-2 text-center text-sm">
                    <div class="text-white/70 font-medium">–î–∞–≤–∞–∞</div>
                    <div class="text-white/70 font-medium">–ú—è–≥–º–∞—Ä</div>
                    <div class="text-white/70 font-medium">–õ—Ö–∞–≤–≥–∞</div>
                    <div class="text-white/70 font-medium">–ü“Ø—Ä—ç–≤</div>
                    <div class="text-white/70 font-medium">–ë–∞–∞—Å–∞–Ω</div>
                    <div class="text-white/70 font-medium">–ë—è–º–±–∞</div>
                    <div class="text-white/70 font-medium">–ù—è–º</div>
                </div>
                
                <div class="grid grid-cols-7 gap-2" id="weeklySchedule">
                    <!-- –î–∞–≤–∞–∞ -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="mon_active" checked class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="mon_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="mon_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –ú—è–≥–º–∞—Ä -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="tue_active" checked class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="tue_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="tue_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –õ—Ö–∞–≤–≥–∞ -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="wed_active" checked class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="wed_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="wed_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –ü“Ø—Ä—ç–≤ -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="thu_active" checked class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="thu_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="thu_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –ë–∞–∞—Å–∞–Ω -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="fri_active" checked class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="fri_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="fri_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –ë—è–º–±–∞ -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="sat_active" class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="sat_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="sat_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                    
                    <!-- –ù—è–º -->
                    <div class="bg-white/10 rounded-lg p-3 space-y-2">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="sun_active" class="rounded">
                            <span class="text-white text-xs">–ò–¥—ç–≤—Ö—Ç—ç–π</span>
                        </label>
                        <input type="time" id="sun_start" value="09:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                        <input type="time" id="sun_end" value="18:00" class="w-full px-2 py-1 rounded bg-white/10 text-white text-xs border border-white/20">
                    </div>
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button onclick="applyScheduleTemplate('standard')" class="flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg transition-colors text-sm">
                        üìã –°—Ç–∞–Ω–¥–∞—Ä—Ç (9:00-18:00)
                    </button>
                    <button onclick="applyScheduleTemplate('flexible')" class="flex-1 bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors text-sm">
                        üïê –£—è–Ω —Ö–∞—Ç–∞–Ω (10:00-19:00)
                    </button>
                    <button onclick="applyScheduleTemplate('early')" class="flex-1 bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg transition-colors text-sm">
                        üåÖ –≠—Ä—Ç (8:00-17:00)
                    </button>
                </div>
                
                <div class="flex space-x-3 mt-4">
                    <button onclick="hideScheduleModal()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors">
                        –¶—É—Ü–ª–∞—Ö
                    </button>
                    <button onclick="saveSchedule()" class="flex-1 bg-white text-purple-700 py-3 rounded-lg font-semibold hover:bg-white/90 transition-colors">
                        –•–∞–¥–≥–∞–ª–∞—Ö
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ë“Ø—Ö –∞–∂–∏–ª—Ç–Ω—ã —Ö—É–≤–∞–∞—Ä–∏–π–Ω –º–æ–¥–∞–ª -->
    <div id="bulkScheduleModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">üìÖ –ë“Ø—Ö –∞–∂–∏–ª—Ç–Ω—ã —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å</h2>
                <button onclick="hideBulkSchedule()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-white/20">
                            <th class="text-left text-white font-medium p-3">–ê–∂–∏–ª—Ç–∞–Ω</th>
                            <th class="text-center text-white font-medium p-3">–î–∞–≤–∞–∞</th>
                            <th class="text-center text-white font-medium p-3">–ú—è–≥–º–∞—Ä</th>
                            <th class="text-center text-white font-medium p-3">–õ—Ö–∞–≤–≥–∞</th>
                            <th class="text-center text-white font-medium p-3">–ü“Ø—Ä—ç–≤</th>
                            <th class="text-center text-white font-medium p-3">–ë–∞–∞—Å–∞–Ω</th>
                            <th class="text-center text-white font-medium p-3">–ë—è–º–±–∞</th>
                            <th class="text-center text-white font-medium p-3">–ù—è–º</th>
                        </tr>
                    </thead>
                    <tbody id="bulkScheduleTable">
                        <tr class="border-b border-white/10">
                            <td class="p-3">
                                <div class="text-white font-medium">–ë–∞—Ç–±–∞—è—Ä</div>
                                <div class="text-white/70 text-xs">–ü—Ä–æ–≥—Ä–∞–º–∏—Å—Ç</div>
                            </td>
                            <td class="text-center p-3 text-green-300">09:00-18:00</td>
                            <td class="text-center p-3 text-green-300">09:00-18:00</td>
                            <td class="text-center p-3 text-green-300">09:00-18:00</td>
                            <td class="text-center p-3 text-green-300">09:00-18:00</td>
                            <td class="text-center p-3 text-green-300">09:00-18:00</td>
                            <td class="text-center p-3 text-red-300">–ê–º—Ä–∞–ª—Ç</td>
                            <td class="text-center p-3 text-red-300">–ê–º—Ä–∞–ª—Ç</td>
                        </tr>
                        <tr class="border-b border-white/10">
                            <td class="p-3">
                                <div class="text-white font-medium">–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª</div>
                                <div class="text-white/70 text-xs">–î–∏–∑–∞–π–Ω–µ—Ä</div>
                            </td>
                            <td class="text-center p-3 text-blue-300">10:00-19:00</td>
                            <td class="text-center p-3 text-blue-300">10:00-19:00</td>
                            <td class="text-center p-3 text-blue-300">10:00-19:00</td>
                            <td class="text-center p-3 text-blue-300">10:00-19:00</td>
                            <td class="text-center p-3 text-blue-300">10:00-19:00</td>
                            <td class="text-center p-3 text-blue-300">10:00-15:00</td>
                            <td class="text-center p-3 text-red-300">–ê–º—Ä–∞–ª—Ç</td>
                        </tr>
                        <tr class="border-b border-white/10">
                            <td class="p-3">
                                <div class="text-white font-medium">–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä</div>
                                <div class="text-white/70 text-xs">–ú–µ–Ω–µ–∂–µ—Ä</div>
                            </td>
                            <td class="text-center p-3 text-yellow-300">08:30-17:30</td>
                            <td class="text-center p-3 text-yellow-300">08:30-17:30</td>
                            <td class="text-center p-3 text-yellow-300">08:30-17:30</td>
                            <td class="text-center p-3 text-yellow-300">08:30-17:30</td>
                            <td class="text-center p-3 text-yellow-300">08:30-17:30</td>
                            <td class="text-center p-3 text-red-300">–ê–º—Ä–∞–ª—Ç</td>
                            <td class="text-center p-3 text-red-300">–ê–º—Ä–∞–ª—Ç</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç—ã–Ω –º–æ–¥–∞–ª -->
    <div id="biometricModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-8 w-full max-w-md text-center">
            <div id="biometricContent">
                <!-- –î–∏–Ω–∞–º–∏–∫ –∫–æ–Ω—Ç–µ–Ω—Ç -->
            </div>
            <button onclick="hideBiometricModal()" class="mt-4 bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors">
                –¶—É—Ü–ª–∞—Ö
            </button>
        </div>
    </div>

    <!-- –ü—Ä–æ—Ñ–∞–π–ª –º–æ–¥–∞–ª -->
    <div id="profileModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üë§ –ú–∏–Ω–∏–π –ø—Ä–æ—Ñ–∞–π–ª</h2>
                <button onclick="hideProfile()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="text-center mb-6">
                <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4 cursor-pointer hover:bg-white/90 transition-colors" onclick="showAvatarSelector()">
                    <span class="text-4xl" id="profileAvatar">üë§</span>
                </div>
                <h3 class="text-xl font-bold text-white" id="profileName">–•—ç—Ä—ç–≥–ª—ç–≥—á</h3>
                <p class="text-white/70" id="profilePosition">–ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª</p>
                <p class="text-white/60 text-sm" id="profilePhone">–£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä</p>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-white/90 text-sm font-medium mb-2">–ù—ç—Ä</label>
                    <input type="text" id="editName" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                </div>
                
                <div>
                    <label class="block text-white/90 text-sm font-medium mb-2">–ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª</label>
                    <input type="text" id="editPosition" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button onclick="hideProfile()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors">
                        –¶—É—Ü–ª–∞—Ö
                    </button>
                    <button onclick="saveProfile()" class="flex-1 bg-white text-purple-700 py-3 rounded-lg font-semibold hover:bg-white/90 transition-colors">
                        –•–∞–¥–≥–∞–ª–∞—Ö
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ê–≤–∞—Ç–∞—Ä —Å–æ–Ω–≥–æ—Ö –º–æ–¥–∞–ª -->
    <div id="avatarModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-lg">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üé≠ –ê–≤–∞—Ç–∞—Ä —Å–æ–Ω–≥–æ—Ö</h2>
                <button onclick="hideAvatarSelector()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="grid grid-cols-6 gap-4 mb-6">
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë§')">
                    <span class="text-2xl">üë§</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüíª')">
                    <span class="text-2xl">üë®‚Äçüíª</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüíª')">
                    <span class="text-2xl">üë©‚Äçüíª</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüíº')">
                    <span class="text-2xl">üë®‚Äçüíº</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüíº')">
                    <span class="text-2xl">üë©‚Äçüíº</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüé®')">
                    <span class="text-2xl">üë®‚Äçüé®</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüé®')">
                    <span class="text-2xl">üë©‚Äçüé®</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüîß')">
                    <span class="text-2xl">üë®‚Äçüîß</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüîß')">
                    <span class="text-2xl">üë©‚Äçüîß</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüè´')">
                    <span class="text-2xl">üë®‚Äçüè´</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüè´')">
                    <span class="text-2xl">üë©‚Äçüè´</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äç‚öïÔ∏è')">
                    <span class="text-2xl">üë®‚Äç‚öïÔ∏è</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äç‚öïÔ∏è')">
                    <span class="text-2xl">üë©‚Äç‚öïÔ∏è</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë®‚Äçüç≥')">
                    <span class="text-2xl">üë®‚Äçüç≥</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üë©‚Äçüç≥')">
                    <span class="text-2xl">üë©‚Äçüç≥</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üßë‚Äçüíº')">
                    <span class="text-2xl">üßë‚Äçüíº</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üßë‚Äçüéì')">
                    <span class="text-2xl">üßë‚Äçüéì</span>
                </div>
                <div class="w-16 h-16 bg-white/10 rounded-full flex items-center justify-center cursor-pointer hover:bg-white/20 transition-colors" onclick="selectAvatar('üßë‚ÄçüöÄ')">
                    <span class="text-2xl">üßë‚ÄçüöÄ</span>
                </div>
            </div>
        </div>
    </div>

    <!-- –ß–∞—Ç –º–æ–¥–∞–ª -->
    <div id="chatModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üí¨ –ê–∂–∏–ª—Ç–∞–Ω—Ç–∞–π —á–∞—Ç</h2>
                <button onclick="hideChat()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="flex-1 flex">
                <!-- –ê–∂–∏–ª—Ç–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç -->
                <div class="w-1/3 border-r border-white/20 pr-4">
                    <h3 class="text-white font-medium mb-3">–ê–∂–∏–ª—Ç–Ω—É—É–¥</h3>
                    <div class="space-y-2 max-h-96 overflow-y-auto" id="employeeListChat">
                        <!-- –ê–∂–∏–ª—Ç–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç —ç–Ω–¥ -->
                    </div>
                </div>
                
                <!-- –ß–∞—Ç —Ö—ç—Å—ç–≥ -->
                <div class="flex-1 pl-4 flex flex-col">
                    <div id="chatHeader" class="text-white font-medium mb-3 hidden">
                        <span id="chatWithName">–•—ç—Ä—ç–≥–ª—ç–≥—á —Å–æ–Ω–≥–æ–Ω–æ —É—É</span>
                    </div>
                    
                    <div id="chatMessages" class="flex-1 bg-white/5 rounded-lg p-4 mb-4 max-h-64 overflow-y-auto">
                        <div class="text-white/70 text-center">–•—ç—Ä—ç–≥–ª—ç–≥—á —Å–æ–Ω–≥–æ–æ–¥ —á–∞—Ç —ç—Ö–ª“Ø“Ø–ª–Ω—ç “Ø“Ø</div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <input type="text" id="chatInput" placeholder="–ú–µ—Å—Å–µ–∂ –±–∏—á–Ω—ç “Ø“Ø..." class="flex-1 px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50" disabled>
                        <button onclick="sendMessage()" id="sendBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50" disabled>
                            –ò–ª–≥—ç—ç—Ö
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ–Ω—ã –º–æ–¥–∞–ª -->
    <div id="notificationModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üìß –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ</h2>
                <button onclick="hideNotificationSettings()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Email —Ç–æ—Ö–∏—Ä–≥–æ–æ -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">üìß Email –º—ç–¥—ç–≥–¥—ç–ª</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">SMTP —Å–µ—Ä–≤–µ—Ä</label>
                            <input type="text" id="smtpServer" placeholder="smtp.gmail.com" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-white/90 text-sm font-medium mb-2">–ü–æ—Ä—Ç</label>
                                <input type="number" id="smtpPort" placeholder="587" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                            </div>
                            <div>
                                <label class="flex items-center space-x-2 mt-8">
                                    <input type="checkbox" id="smtpSSL" class="rounded">
                                    <span class="text-white text-sm">SSL –∞—à–∏–≥–ª–∞—Ö</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">Email —Ö–∞—è–≥</label>
                            <input type="email" id="smtpEmail" placeholder="company@gmail.com" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">–ù—É—É—Ü “Ø–≥</label>
                            <input type="password" id="smtpPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                        
                        <button onclick="testEmailSettings()" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-lg transition-colors">
                            üìß Email —Ç–µ—Å—Ç –∏–ª–≥—ç—ç—Ö
                        </button>
                    </div>
                </div>
                
                <!-- SMS —Ç–æ—Ö–∏—Ä–≥–æ–æ -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">üì± SMS –º—ç–¥—ç–≥–¥—ç–ª</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">SMS API —Ç“Ø–ª—Ö“Ø“Ø—Ä</label>
                            <input type="text" id="smsApiKey" placeholder="API Key" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">SMS “Ø–π–ª—á–∏–ª–≥—ç—ç</label>
                            <select id="smsProvider" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                                <option value="twilio">Twilio</option>
                                <option value="nexmo">Nexmo</option>
                                <option value="local">–î–æ—Ç–æ–æ–¥—ã–Ω SMS</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">–ò–ª–≥—ç—ç–≥—á–∏–π–Ω –¥—É–≥–∞–∞—Ä</label>
                            <input type="tel" id="smsFrom" placeholder="+976 XXXX XXXX" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50">
                        </div>
                        
                        <button onclick="testSMSSettings()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg transition-colors">
                            üì± SMS —Ç–µ—Å—Ç –∏–ª–≥—ç—ç—Ö
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- –ú—ç–¥—ç–≥–¥–ª–∏–π–Ω —Ç”©—Ä–ª“Ø“Ø–¥ -->
            <div class="mt-6 bg-white/10 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-white mb-4">üîî –ú—ç–¥—ç–≥–¥–ª–∏–π–Ω —Ç”©—Ä–ª“Ø“Ø–¥</h3>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="space-y-3">
                        <label class="flex items-center justify-between">
                            <span class="text-white">–•–æ—Ü–æ—Ä—Å–æ–Ω –∞–∂–∏–ª—Ç–∞–Ω</span>
                            <input type="checkbox" id="notifyLate" checked class="rounded">
                        </label>
                        <label class="flex items-center justify-between">
                            <span class="text-white">–ò—Ä—ç—ç–≥“Ø–π –∞–∂–∏–ª—Ç–∞–Ω</span>
                            <input type="checkbox" id="notifyAbsent" checked class="rounded">
                        </label>
                        <label class="flex items-center justify-between">
                            <span class="text-white">–≠—Ä—Ç –≥–∞—Ä—Å–∞–Ω –∞–∂–∏–ª—Ç–∞–Ω</span>
                            <input type="checkbox" id="notifyEarlyLeave" checked class="rounded">
                        </label>
                    </div>
                    <div class="space-y-3">
                        <label class="flex items-center justify-between">
                            <span class="text-white">–ò–ª“Ø“Ø —Ü–∞–≥ –∞–∂–∏–ª–ª–∞—Å–∞–Ω</span>
                            <input type="checkbox" id="notifyOvertime" checked class="rounded">
                        </label>
                        <label class="flex items-center justify-between">
                            <span class="text-white">”®–¥—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω</span>
                            <input type="checkbox" id="notifyDailyReport" checked class="rounded">
                        </label>
                        <label class="flex items-center justify-between">
                            <span class="text-white">–î–æ–ª–æ–æ —Ö–æ–Ω–æ–≥–∏–π–Ω —Ç–∞–π–ª–∞–Ω</span>
                            <input type="checkbox" id="notifyWeeklyReport" class="rounded">
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="hideNotificationSettings()" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors">
                    –¶—É—Ü–ª–∞—Ö
                </button>
                <button onclick="saveNotificationSettings()" class="flex-1 bg-white text-purple-700 py-3 rounded-lg font-semibold hover:bg-white/90 transition-colors">
                    –•–∞–¥–≥–∞–ª–∞—Ö
                </button>
            </div>
        </div>
    </div>

    <!-- –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω –º–æ–¥–∞–ª -->
    <div id="detailedReportsModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">üìà –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–∞–π–ª–∞–Ω</h2>
                <div class="flex space-x-3">
                    <button onclick="exportReport('excel')" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors text-sm">
                        üìä Excel —Ç–∞—Ç–∞—Ö
                    </button>
                    <button onclick="exportReport('pdf')" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors text-sm">
                        üìÑ PDF —Ç–∞—Ç–∞—Ö
                    </button>
                    <button onclick="hideDetailedReports()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
                </div>
            </div>
            
            <!-- –¢–∞–π–ª–∞–Ω–≥–∏–π–Ω —Ö—ç—Å–≥“Ø“Ø–¥ -->
            <div class="grid md:grid-cols-3 gap-6 mb-6">
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">üìä –ò—Ä—Ü</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-white/70">”®–Ω”©”©–¥”©—Ä –∏—Ä—Å—ç–Ω:</span>
                            <span class="text-green-300 font-bold">189/247</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–•–æ—Ü–æ—Ä—Å–æ–Ω:</span>
                            <span class="text-yellow-300 font-bold">23</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–ò—Ä—ç—ç–≥“Ø–π:</span>
                            <span class="text-red-300 font-bold">58</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–ò—Ä—Ü–∏–π–Ω —Ö—É–≤—å:</span>
                            <span class="text-blue-300 font-bold">76.5%</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">‚è∞ –ê–∂–ª—ã–Ω —Ü–∞–≥</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-white/70">–î—É–Ω–¥–∞–∂ –∞–∂–ª—ã–Ω —Ü–∞–≥:</span>
                            <span class="text-blue-300 font-bold">7.8 —Ü–∞–≥</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–ò–ª“Ø“Ø —Ü–∞–≥:</span>
                            <span class="text-purple-300 font-bold">45 –∞–∂–∏–ª—Ç–∞–Ω</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–î—É—Ç—É—É –∞–∂–∏–ª–ª–∞—Å–∞–Ω:</span>
                            <span class="text-orange-300 font-bold">12 –∞–∂–∏–ª—Ç–∞–Ω</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-white/70">–ë“Ø—Ç—ç—ç–º–∂:</span>
                            <span class="text-green-300 font-bold">92%</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">üèÜ –®–∏–ª–¥—ç–≥ –∞–∂–∏–ª—Ç–Ω—É—É–¥</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ü•á</span>
                            <div>
                                <div class="text-white font-medium">–ë–∞—Ç–±–∞—è—Ä</div>
                                <div class="text-green-300 text-sm">100% –∏—Ä—Ü</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ü•à</span>
                            <div>
                                <div class="text-white font-medium">–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª</div>
                                <div class="text-blue-300 text-sm">9.2 —Ü–∞–≥ –¥—É–Ω–¥–∞–∂</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ü•â</span>
                            <div>
                                <div class="text-white font-medium">–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä</div>
                                <div class="text-purple-300 text-sm">–£–¥–∏—Ä–¥–ª–∞–≥–∞</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- –ì—Ä–∞—Ñ–∏–∫—É—É–¥ -->
            <div class="bg-white/10 rounded-xl p-6 mb-6">
                <h3 class="text-lg font-semibold text-white mb-4">üìà 7 —Ö–æ–Ω–æ–≥–∏–π–Ω –∏—Ä—Ü</h3>
                <div class="grid grid-cols-7 gap-2 h-32">
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-green-500 rounded-t w-8 flex items-end" style="height: 85%;">
                            <div class="w-full bg-green-400 rounded-t" style="height: 85%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–î–∞</div>
                        <div class="text-white text-xs">85%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-green-500 rounded-t w-8 flex items-end" style="height: 92%;">
                            <div class="w-full bg-green-400 rounded-t" style="height: 92%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–ú—è</div>
                        <div class="text-white text-xs">92%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-green-500 rounded-t w-8 flex items-end" style="height: 78%;">
                            <div class="w-full bg-yellow-400 rounded-t" style="height: 78%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–õ—Ö</div>
                        <div class="text-white text-xs">78%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-green-500 rounded-t w-8 flex items-end" style="height: 88%;">
                            <div class="w-full bg-green-400 rounded-t" style="height: 88%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–ü“Ø</div>
                        <div class="text-white text-xs">88%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-green-500 rounded-t w-8 flex items-end" style="height: 95%;">
                            <div class="w-full bg-green-400 rounded-t" style="height: 95%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–ë–∞</div>
                        <div class="text-white text-xs">95%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-gray-500 rounded-t w-8 flex items-end" style="height: 45%;">
                            <div class="w-full bg-gray-400 rounded-t" style="height: 45%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–ë—è</div>
                        <div class="text-white text-xs">45%</div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex-1 bg-gray-500 rounded-t w-8 flex items-end" style="height: 12%;">
                            <div class="w-full bg-gray-400 rounded-t" style="height: 12%;"></div>
                        </div>
                        <div class="text-white/70 text-xs mt-2">–ù—è</div>
                        <div class="text-white text-xs">12%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –¢–∞–ª–∞—Ä—Ö–∞–ª –º–æ–¥–∞–ª -->
    <div id="appreciationModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="glass-effect rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-white">üôè –¢–∞–ª–∞—Ä—Ö–∞–ª –∏–ª—ç—Ä—Ö–∏–π–ª—ç—Ö</h2>
                <button onclick="hideAppreciation()" class="text-white hover:text-red-300 text-2xl">‚úï</button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- –¢–∞–ª–∞—Ä—Ö–∞–ª –∏–ª–≥—ç—ç—Ö -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">‚ú® –¢–∞–ª–∞—Ä—Ö–∞–ª –∏–ª–≥—ç—ç—Ö</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">–•—ç–Ω–¥</label>
                            <select id="appreciationTo" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                                <option value="">–ê–∂–∏–ª—Ç–∞–Ω —Å–æ–Ω–≥–æ–Ω–æ —É—É</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">–¢”©—Ä”©–ª</label>
                            <select id="appreciationType" class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-white/50">
                                <option value="thanks">üôè –¢–∞–ª–∞—Ä—Ö–∞–ª</option>
                                <option value="great_work">üëè –°–∞–π–Ω –∞–∂–∏–ª</option>
                                <option value="helpful">ü§ù –¢—É—Å–ª–∞–º–∂</option>
                                <option value="creative">üí° –ë“Ø—Ç—ç—ç–ª—á</option>
                                <option value="teamwork">üë• –ë–∞–≥–∏–π–Ω –∞–∂–∏–ª</option>
                                <option value="leadership">üåü –£–¥–∏—Ä–¥–ª–∞–≥–∞</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-white/90 text-sm font-medium mb-2">–ú–µ—Å—Å–µ–∂</label>
                            <textarea id="appreciationMessage" rows="4" placeholder="–¢–∞–ª–∞—Ä—Ö–ª—ã–Ω “Ø–≥—ç—ç –±–∏—á–Ω—ç “Ø“Ø..." class="w-full px-4 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 resize-none"></textarea>
                        </div>
                        
                        <button onclick="sendAppreciation()" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-2 rounded-lg transition-colors">
                            üôè –¢–∞–ª–∞—Ä—Ö–∞–ª –∏–ª–≥—ç—ç—Ö
                        </button>
                    </div>
                </div>
                
                <!-- –•“Ø–ª—ç—ç–Ω –∞–≤—Å–∞–Ω —Ç–∞–ª–∞—Ä—Ö–ª—É—É–¥ -->
                <div class="bg-white/10 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-white mb-4">üéâ –•“Ø–ª—ç—ç–Ω –∞–≤—Å–∞–Ω —Ç–∞–ª–∞—Ä—Ö–ª—É—É–¥</h3>
                    
                    <div class="space-y-3 max-h-96 overflow-y-auto" id="receivedAppreciations">
                        <div class="text-white/70 text-center py-8">
                            –û–¥–æ–æ–≥–æ–æ—Ä —Ç–∞–ª–∞—Ä—Ö–∞–ª –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –±–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞–¥–≥–∞–ª–∞—Ö
        let userBiometrics = {
            fingerprint: false,
            face: false,
            isFirstLogin: true
        };

        // –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
        let workSession = {
            checkInTime: null,
            checkOutTime: null,
            requiredHours: 8,
            scheduledStartTime: '09:00',
            isWorking: false,
            currentUser: null,
            currentUserData: null
        };

        // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª
        let employees = {
            '99000000': { name: '–ê–¥–º–∏–Ω', position: '–°–∏—Å—Ç–µ–º–∏–π–Ω –∞–¥–º–∏–Ω', avatar: 'üë®‚Äçüíº', phone: '99000000' },
            '99123456': { name: '–ë–∞—Ç–±–∞—è—Ä', position: '–ü—Ä–æ–≥—Ä–∞–º–∏—Å—Ç', avatar: 'üë®‚Äçüíª', phone: '99123456' },
            '99234567': { name: '–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª', position: '–î–∏–∑–∞–π–Ω–µ—Ä', avatar: 'üë©‚Äçüé®', phone: '99234567' },
            '99345678': { name: '–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä', position: '–ú–µ–Ω–µ–∂–µ—Ä', avatar: 'üë®‚Äçüíº', phone: '99345678' }
        };

        // –ß–∞—Ç –º–µ—Å—Å–µ–∂“Ø“Ø–¥
        let chatMessages = [];
        
        // –¢–∞–ª–∞—Ä—Ö–∞–ª—ã–Ω –º–µ—Å—Å–µ–∂“Ø“Ø–¥
        let appreciationMessages = [];

        // –¶–∞–≥–∏–π–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª
        let workTimeInterval = null;

        // –¶–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö
        function updateTime() {
            const now = new Date();
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            
            if (document.getElementById('currentTime')) {
                document.getElementById('currentTime').textContent = now.toLocaleTimeString('mn-MN', timeOptions);
                document.getElementById('currentDate').textContent = now.toLocaleDateString('mn-MN', dateOptions);
            }
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // –ù—ç–≤—Ç—Ä—ç—Ö
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const phone = document.getElementById('phoneNumber').value;
            const password = document.getElementById('password').value;
            
            // –ñ–∏—à—ç—ç –Ω—ç–≤—Ç—Ä—ç—Ö —à–∞–ª–≥–∞–ª—Ç
            if (phone && password) {
                // –ê–Ω—Ö —É–¥–∞–∞ –Ω—ç–≤—Ç—ç—Ä—á –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
                const isFirstTime = !localStorage.getItem(`biometric_${phone}`);
                
                if (isFirstTime) {
                    // –ê–Ω—Ö–Ω—ã –Ω—ç–≤—Ç—Ä—ç–ª—Ç - –±–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞—Ä—É—É–ª–∞—Ö
                    showBiometricSetup(phone);
                } else {
                    // –•—ç–≤–∏–π–Ω –Ω—ç–≤—Ç—Ä—ç–ª—Ç
                    loginUser(phone, password);
                }
            }
        });

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞—Ä—É—É–ª–∞—Ö
        function showBiometricSetup(phone) {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('biometricSetupScreen').classList.remove('hidden');
            
            // –£—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä—ã–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
            window.currentSetupPhone = phone;
        }

        // –•—É—Ä—É—É–Ω—ã —Ö—ç—ç —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
        function setupFingerprint() {
            showBiometricModal('fingerprint_setup');
            
            setTimeout(() => {
                hideBiometricModal();
                userBiometrics.fingerprint = true;
                document.getElementById('fingerprintCheck').checked = true;
                showMessage('‚úÖ –•—É—Ä—É—É–Ω—ã —Ö—ç—ç –∞–º–∂–∏–ª—Ç—Ç–∞–π –±“Ø—Ä—Ç–≥—ç–≥–¥–ª—ç—ç!', 'bg-green-500/20');
            }, 3000);
        }

        // –¶–∞—Ä–∞–π —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
        function setupFace() {
            showBiometricModal('face_setup');
            
            setTimeout(() => {
                hideBiometricModal();
                userBiometrics.face = true;
                document.getElementById('faceCheck').checked = true;
                showMessage('‚úÖ –¶–∞—Ä–∞–π –∞–º–∂–∏–ª—Ç—Ç–∞–π –±“Ø—Ä—Ç–≥—ç–≥–¥–ª—ç—ç!', 'bg-green-500/20');
            }, 2500);
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ –∞–ª–≥–∞—Å–∞—Ö
        function skipBiometricSetup() {
            completeBiometricSetup();
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ –¥—É—É—Å–≥–∞—Ö
        function completeBiometricSetup() {
            const phone = window.currentSetupPhone;
            
            // –¢–æ—Ö–∏—Ä–≥–æ–æ–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
            localStorage.setItem(`biometric_${phone}`, JSON.stringify(userBiometrics));
            
            // “Æ–Ω–¥—Å—ç–Ω —Ö—ç—Å—ç–≥ —Ä“Ø“Ø —à–∏–ª–∂–∏—Ö
            document.getElementById('biometricSetupScreen').classList.add('hidden');
            loginUser(phone, 'setup_complete');
        }

        // –•—ç—Ä—ç–≥–ª—ç–≥—á –Ω—ç–≤—Ç—Ä“Ø“Ø–ª—ç—Ö
        function loginUser(phone, password) {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('biometricSetupScreen').classList.add('hidden');
            document.getElementById('mainScreen').classList.remove('hidden');
            
            // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            workSession.currentUser = phone;
            
            // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞—á–∞–∞–ª–∞—Ö —ç—Å–≤—ç–ª “Ø“Ø—Å–≥—ç—Ö
            if (!employees[phone]) {
                employees[phone] = {
                    name: `–•—ç—Ä—ç–≥–ª—ç–≥—á ${phone}`,
                    position: '–ê–∂–∏–ª—Ç–∞–Ω',
                    avatar: 'üë§',
                    phone: phone
                };
            }
            
            workSession.currentUserData = employees[phone];
            
            // –ü—Ä–æ—Ñ–∞–π–ª –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞—Ä—É—É–ª–∞—Ö
            updateUserProfile();
            
            // –ê–¥–º–∏–Ω —Ç–æ–≤—á–∏–π–≥ –Ω—É—É—Ö (–±“Ø—Ö —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–¥)
            document.getElementById('adminBtn').classList.add('hidden');
            
            // –ê–¥–º–∏–Ω —ç—Ä—Ö —à–∞–ª–≥–∞—Ö
            if (phone === '99000000' || (employees[phone] && employees[phone].isAdmin)) {
                document.getElementById('adminBtn').classList.remove('hidden');
            }
            
            // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –±–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ–≥ –∞—á–∞–∞–ª–∞—Ö
            const savedBiometrics = localStorage.getItem(`biometric_${phone}`);
            if (savedBiometrics) {
                userBiometrics = JSON.parse(savedBiometrics);
                updateBiometricSettingsDisplay();
            }
            
            // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å –∞—á–∞–∞–ª–∞—Ö
            loadUserSchedule(phone);
            
            // ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–ª—ã–Ω —Å—Ç–∞—Ç—É—Å –∞—á–∞–∞–ª–∞—Ö
            loadTodayWorkStatus(phone);
            
            // –ë–∞–π—Ä—à–∏–ª –∞–≤–∞—Ö
            getLocation();
            
            // –ß–∞—Ç –±–æ–ª–æ–Ω —Ç–∞–ª–∞—Ä—Ö–ª—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç —à–∏–Ω—ç—á–ª—ç—Ö
            updateEmployeeListsForChat();
            loadReceivedAppreciations();
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç - –•—É—Ä—É—É–Ω—ã —Ö—ç—ç
        function authenticateFingerprint() {
            showBiometricModal('fingerprint');
            
            // –ñ–∏—à—ç—ç —Ö—É—Ä—É—É–Ω—ã —Ö—ç—ç —Ç–∞–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å
            setTimeout(() => {
                const success = Math.random() > 0.3; // 70% –∞–º–∂–∏–ª—Ç—Ç–∞–π
                if (success) {
                    hideBiometricModal();
                    loginUser('–ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ö—ç—Ä—ç–≥–ª—ç–≥—á', 'fingerprint');
                } else {
                    updateBiometricContent('‚ùå –•—É—Ä—É—É–Ω—ã —Ö—ç—ç —Ç–∞–Ω–∏–∞–≥–¥—Å–∞–Ω–≥“Ø–π. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.');
                }
            }, 3000);
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç - –¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö
        function authenticateFace() {
            showBiometricModal('face');
            
            // –ñ–∏—à—ç—ç —Ü–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å
            setTimeout(() => {
                const success = Math.random() > 0.2; // 80% –∞–º–∂–∏–ª—Ç—Ç–∞–π
                if (success) {
                    hideBiometricModal();
                    loginUser('–¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö —Ö—ç—Ä—ç–≥–ª—ç–≥—á', 'face');
                } else {
                    updateBiometricContent('‚ùå –¶–∞—Ä–∞–π —Ç–∞–Ω–∏–∞–≥–¥—Å–∞–Ω–≥“Ø–π. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–Ω–æ —É—É.');
                }
            }, 2500);
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞—Ä—É—É–ª–∞—Ö
        function showBiometricSettings() {
            document.getElementById('biometricSettingsModal').classList.remove('hidden');
            updateBiometricSettingsDisplay();
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ –Ω—É—É—Ö
        function hideBiometricSettings() {
            document.getElementById('biometricSettingsModal').classList.add('hidden');
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ —Ç–æ—Ö–∏—Ä–≥–æ–æ–Ω—ã –¥—ç–ª–≥—ç—Ü —à–∏–Ω—ç—á–ª—ç—Ö
        function updateBiometricSettingsDisplay() {
            const fingerprintStatus = document.getElementById('fingerprintStatus');
            const faceStatus = document.getElementById('faceStatus');
            const fingerprintToggle = document.getElementById('fingerprintToggle');
            const faceToggle = document.getElementById('faceToggle');
            
            if (userBiometrics.fingerprint) {
                fingerprintStatus.textContent = '–ò–¥—ç–≤—Ö—Ç—ç–π';
                fingerprintStatus.className = 'text-green-300 text-sm';
                fingerprintToggle.textContent = '–ò–¥—ç–≤—Ö–≥“Ø–π –±–æ–ª–≥–æ—Ö';
                fingerprintToggle.className = 'bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-colors';
            } else {
                fingerprintStatus.textContent = '–ë“Ø—Ä—Ç–≥—ç–≥–¥—ç—ç–≥“Ø–π';
                fingerprintStatus.className = 'text-white/70 text-sm';
                fingerprintToggle.textContent = '–ò–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö';
                fingerprintToggle.className = 'bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm transition-colors';
            }
            
            if (userBiometrics.face) {
                faceStatus.textContent = '–ò–¥—ç–≤—Ö—Ç—ç–π';
                faceStatus.className = 'text-green-300 text-sm';
                faceToggle.textContent = '–ò–¥—ç–≤—Ö–≥“Ø–π –±–æ–ª–≥–æ—Ö';
                faceToggle.className = 'bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm transition-colors';
            } else {
                faceStatus.textContent = '–ë“Ø—Ä—Ç–≥—ç–≥–¥—ç—ç–≥“Ø–π';
                faceStatus.className = 'text-white/70 text-sm';
                faceToggle.textContent = '–ò–¥—ç–≤—Ö–∂“Ø“Ø–ª—ç—Ö';
                faceToggle.className = 'bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm transition-colors';
            }
        }

        // –•—É—Ä—É—É–Ω—ã —Ö—ç—ç —Ç–æ—Ö–∏—Ä–≥–æ–æ —Å–æ–ª–∏—Ö
        function toggleFingerprint() {
            if (userBiometrics.fingerprint) {
                userBiometrics.fingerprint = false;
                showMessage('‚ùå –•—É—Ä—É—É–Ω—ã —Ö—ç—ç –∏–¥—ç–≤—Ö–≥“Ø–π –±–æ–ª–≥–æ–≥–¥–ª–æ–æ', 'bg-red-500/20');
            } else {
                showBiometricModal('fingerprint_setup');
                setTimeout(() => {
                    hideBiometricModal();
                    userBiometrics.fingerprint = true;
                    showMessage('‚úÖ –•—É—Ä—É—É–Ω—ã —Ö—ç—ç –∏–¥—ç–≤—Ö–∂–ª—ç—ç!', 'bg-green-500/20');
                    updateBiometricSettingsDisplay();
                }, 3000);
            }
            updateBiometricSettingsDisplay();
        }

        // –¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö —Ç–æ—Ö–∏—Ä–≥–æ–æ —Å–æ–ª–∏—Ö
        function toggleFace() {
            if (userBiometrics.face) {
                userBiometrics.face = false;
                showMessage('‚ùå –¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö –∏–¥—ç–≤—Ö–≥“Ø–π –±–æ–ª–≥–æ–≥–¥–ª–æ–æ', 'bg-red-500/20');
            } else {
                showBiometricModal('face_setup');
                setTimeout(() => {
                    hideBiometricModal();
                    userBiometrics.face = true;
                    showMessage('‚úÖ –¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö –∏–¥—ç–≤—Ö–∂–ª—ç—ç!', 'bg-green-500/20');
                    updateBiometricSettingsDisplay();
                }, 2500);
            }
            updateBiometricSettingsDisplay();
        }

        // –ë–∞–π—Ä—à–∏–ª –∞–≤–∞—Ö
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function(position) {
                        const lat = position.coords.latitude;
                        const lng = position.coords.longitude;
                        console.log(`–ë–∞–π—Ä—à–∏–ª: ${lat}, ${lng}`);
                        
                        // –ë–∞–π—Ä—à–∏–ª —à–∞–ª–≥–∞—Ö (–∂–∏—à—ç—ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)
                        const officeDistance = calculateDistance(lat, lng, 47.9184, 106.9177); // –£–ë —Ç”©–≤
                        
                        if (officeDistance < 0.5) { // 500–º –¥–æ—Ç–æ—Ä
                            showLocationStatus('‚úÖ –û—Ñ—Ñ–∏—Å—ã–Ω –±“Ø—Å—ç–¥ –±–∞–π–Ω–∞', 'bg-green-500/20');
                        } else {
                            showLocationStatus('‚ö†Ô∏è –û—Ñ—Ñ–∏—Å—ã–Ω –±“Ø—Å—ç—ç—Å —Ö–æ–ª –±–∞–π–Ω–∞', 'bg-yellow-500/20');
                        }
                    },
                    function(error) {
                        showLocationStatus('‚ùå –ë–∞–π—Ä—à–∏–ª –∞–≤–∞—Ö –±–æ–ª–æ–º–∂–≥“Ø–π', 'bg-red-500/20');
                    }
                );
            }
        }

        // –ë–∞–π—Ä—à–ª—ã–Ω –∑–∞–π —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
        function calculateDistance(lat1, lng1, lat2, lng2) {
            const R = 6371; // –î—ç–ª—Ö–∏–π–Ω —Ä–∞–¥–∏—É—Å –∫–º-—ç—ç—Ä
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLng = (lng2 - lng1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                    Math.sin(dLng/2) * Math.sin(dLng/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        // –ë–∞–π—Ä—à–ª—ã–Ω —Å—Ç–∞—Ç—É—Å —Ö–∞—Ä—É—É–ª–∞—Ö
        function showLocationStatus(message, bgClass) {
            const statusDiv = document.getElementById('locationStatus');
            statusDiv.innerHTML = `<div class="text-lg">${message}</div>`;
            statusDiv.className = `mt-4 p-4 rounded-lg text-center text-white ${bgClass}`;
            statusDiv.classList.remove('hidden');
        }

        // –ê–∂–∏–ª–¥ –∏—Ä—ç—Ö
        function checkIn() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('mn-MN', { hour: '2-digit', minute: '2-digit' });
            
            // –ê–∂–ª—ã–Ω —Å–µ—Å—Å–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            workSession.checkInTime = now;
            workSession.isWorking = true;
            
            // –•–æ—Ü–æ—Ä—Å–æ–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
            const scheduledTime = parseTime(workSession.scheduledStartTime);
            const actualTime = now;
            const isLate = actualTime > scheduledTime;
            
            // –ë“Ø—Ä—Ç–≥—ç–ª –Ω—ç–º—ç—Ö
            const recordsDiv = document.getElementById('todayRecords');
            const newRecord = document.createElement('div');
            newRecord.className = 'bg-white/10 rounded-lg p-4 flex justify-between items-center slide-in';
            newRecord.innerHTML = `
                <div>
                    <div class="text-white font-medium">–ê–∂–∏–ª–¥ –∏—Ä—ç—Ö ${isLate ? '‚ö†Ô∏è' : '‚úÖ'}</div>
                    <div class="text-white/70 text-sm">–ë–∞–π—Ä—à–∏–ª: –¢”©–≤ –æ—Ñ—Ñ–∏—Å</div>
                    ${isLate ? '<div class="text-yellow-300 text-xs">–•–æ—Ü–æ—Ä—Å–æ–Ω</div>' : ''}
                </div>
                <div class="text-green-300 font-bold">${timeString}</div>
            `;
            recordsDiv.appendChild(newRecord);
            
            // –¢–æ–≤—á–Ω—ã —Ç”©–ª”©–≤ ”©”©—Ä—á–ª”©—Ö
            document.getElementById('checkInBtn').disabled = true;
            document.getElementById('checkOutBtn').disabled = false;
            
            // –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Ç–æ–æ—Ü–æ–æ–ª–æ–ª —ç—Ö–ª“Ø“Ø–ª—ç—Ö
            startWorkTimeTracking();
            
            // –°—Ç–∞—Ç—É—Å —Ö–∞—Ä—É—É–ª–∞—Ö
            const message = isLate ? '‚ö†Ô∏è –ê–∂–∏–ª–¥ –∏—Ä–ª—ç—ç (—Ö–æ—Ü–æ—Ä—Å–æ–Ω)' : '‚úÖ –ê–º–∂–∏–ª—Ç—Ç–∞–π –∞–∂–∏–ª–¥ –∏—Ä–ª—ç—ç!';
            const bgClass = isLate ? 'bg-yellow-500/20' : 'bg-green-500/20';
            showMessage(message, bgClass);
            
            // ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–ª—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            saveTodayWorkData();
            
            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫ —à–∏–Ω—ç—á–ª—ç—Ö
            const checkedIn = document.getElementById('checkedIn');
            const absent = document.getElementById('absent');
            checkedIn.textContent = parseInt(checkedIn.textContent) + 1;
            absent.textContent = parseInt(absent.textContent) - 1;
        }

        // –ê–∂–ª–∞–∞—Å –≥–∞—Ä–∞—Ö
        function checkOut() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('mn-MN', { hour: '2-digit', minute: '2-digit' });
            
            // –ê–∂–ª—ã–Ω —Å–µ—Å—Å–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª —à–∏–Ω—ç—á–ª—ç—Ö
            workSession.checkOutTime = now;
            workSession.isWorking = false;
            
            // –ê–∂–∏–ª–ª–∞—Å–∞–Ω —Ü–∞–≥–∏–π–≥ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
            const workedMinutes = Math.floor((now - workSession.checkInTime) / (1000 * 60));
            const workedHours = Math.floor(workedMinutes / 60);
            const remainingMinutes = workedMinutes % 60;
            const workedTimeString = `${workedHours}:${remainingMinutes.toString().padStart(2, '0')}`;
            
            // –°—Ç–∞—Ç—É—Å —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ—Ö
            const requiredMinutes = workSession.requiredHours * 60;
            let status, statusClass, statusIcon;
            
            if (workedMinutes >= requiredMinutes) {
                status = '–ë“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Å–∞–Ω';
                statusClass = 'text-green-300';
                statusIcon = '‚úÖ';
            } else if (workedMinutes >= requiredMinutes * 0.5) {
                status = '–¢–∞–ª –∞–∂–∏–ª–ª–∞—Å–∞–Ω';
                statusClass = 'text-yellow-300';
                statusIcon = '‚ö†Ô∏è';
            } else {
                status = '–¢–∞–ª –∞–∂–∏–ª–ª–∞—Å–∞–Ω';
                statusClass = 'text-red-300';
                statusIcon = '‚ùå';
            }
            
            // –ë“Ø—Ä—Ç–≥—ç–ª –Ω—ç–º—ç—Ö
            const recordsDiv = document.getElementById('todayRecords');
            const newRecord = document.createElement('div');
            newRecord.className = 'bg-white/10 rounded-lg p-4 flex justify-between items-center slide-in';
            newRecord.innerHTML = `
                <div>
                    <div class="text-white font-medium">–ê–∂–ª–∞–∞—Å –≥–∞—Ä–∞—Ö ${statusIcon}</div>
                    <div class="text-white/70 text-sm">–ë–∞–π—Ä—à–∏–ª: –¢”©–≤ –æ—Ñ—Ñ–∏—Å</div>
                    <div class="${statusClass} text-xs">${status} (${workedTimeString})</div>
                </div>
                <div class="text-red-300 font-bold">${timeString}</div>
            `;
            recordsDiv.appendChild(newRecord);
            
            // –¢–æ–≤—á–Ω—ã —Ç”©–ª”©–≤ ”©”©—Ä—á–ª”©—Ö
            document.getElementById('checkInBtn').disabled = false;
            document.getElementById('checkOutBtn').disabled = true;
            
            // –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Ç–æ–æ—Ü–æ–æ–ª–æ–ª –∑–æ–≥—Å–æ–æ—Ö
            stopWorkTimeTracking();
            
            // –°—Ç–∞—Ç—É—Å —Ö–∞—Ä—É—É–ª–∞—Ö
            showMessage(`${statusIcon} –ê–∂–ª–∞–∞—Å –≥–∞—Ä–ª–∞–∞! ${status} (${workedTimeString})`, 'bg-blue-500/20');
            
            // ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–ª—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            saveTodayWorkData();
        }

        // –ú–µ—Å—Å–µ–∂ —Ö–∞—Ä—É—É–ª–∞—Ö
        function showMessage(message, bgClass) {
            const messageDiv = document.getElementById('statusMessage');
            messageDiv.textContent = message;
            messageDiv.className = `mt-4 p-4 rounded-lg text-center text-white ${bgClass}`;
            messageDiv.classList.remove('hidden');
            
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 3000);
        }

        // –ì–∞—Ä–∞—Ö
        function logout() {
            document.getElementById('mainScreen').classList.add('hidden');
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('phoneNumber').value = '';
            document.getElementById('password').value = '';
            
            // –¢–æ–≤—á–Ω—ã —Ç”©–ª”©–≤ reset —Ö–∏–π—Ö
            document.getElementById('checkInBtn').disabled = false;
            document.getElementById('checkOutBtn').disabled = true;
        }

        // –ñ–∏—à—ç—ç ”©–≥”©–≥–¥”©–ª —à–∏–Ω—ç—á–ª—ç—Ö
        function updateStats() {
            const stats = [
                { total: 247, checkedIn: 189, absent: 58 },
                { total: 251, checkedIn: 195, absent: 56 },
                { total: 245, checkedIn: 182, absent: 63 }
            ];
            
            const randomStat = stats[Math.floor(Math.random() * stats.length)];
            document.getElementById('totalEmployees').textContent = randomStat.total;
            document.getElementById('checkedIn').textContent = randomStat.checkedIn;
            document.getElementById('absent').textContent = randomStat.absent;
        }

        // 30 —Å–µ–∫—É–Ω–¥ —Ç—É—Ç–∞–º–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —à–∏–Ω—ç—á–ª—ç—Ö
        setInterval(updateStats, 30000);

        // –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª —Ö–∞—Ä—É—É–ª–∞—Ö
        function showAdminPanel() {
            document.getElementById('adminPanel').classList.remove('hidden');
        }

        // –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª –Ω—É—É—Ö
        function hideAdminPanel() {
            document.getElementById('adminPanel').classList.add('hidden');
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –º–æ–¥–∞–ª —Ö–∞—Ä—É—É–ª–∞—Ö
        function showBiometricModal(type) {
            const modal = document.getElementById('biometricModal');
            const content = document.getElementById('biometricContent');
            
            if (type === 'fingerprint' || type === 'fingerprint_setup') {
                content.innerHTML = `
                    <div class="text-6xl mb-4 pulse-animation">üëÜ</div>
                    <h3 class="text-xl font-bold text-white mb-2">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç —Ç–∞–Ω–∏—Ö</h3>
                    <p class="text-white/70 mb-4">–•—É—Ä—É—É–Ω—ã —Ö—ç—ç —É–Ω—à–∏–≥—á –¥—ç—ç—Ä —Ö—É—Ä—É—É–≥–∞–∞ —Ç–∞–≤–∏–Ω–∞ —É—É</p>
                    <div class="w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto"></div>
                `;
            } else if (type === 'face' || type === 'face_setup') {
                content.innerHTML = `
                    <div class="text-6xl mb-4 pulse-animation">üë§</div>
                    <h3 class="text-xl font-bold text-white mb-2">–¶–∞—Ä–∞–π —Ç–∞–Ω–∏—Ö</h3>
                    <p class="text-white/70 mb-4">–ö–∞–º–µ—Ä —Ä—É—É —Ö–∞—Ä–∂, —Ü–∞—Ä–∞–π–≥–∞–∞ —Ö–∞—Ä—É—É–ª–Ω–∞ —É—É</p>
                    <div class="w-16 h-16 border-4 border-white/30 border-t-white rounded-full animate-spin mx-auto"></div>
                `;
            }
            
            modal.classList.remove('hidden');
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –º–æ–¥–∞–ª –Ω—É—É—Ö
        function hideBiometricModal() {
            document.getElementById('biometricModal').classList.add('hidden');
        }

        // –ë–∏–æ–º–µ—Ç—Ä–∏–∫ –∫–æ–Ω—Ç–µ–Ω—Ç —à–∏–Ω—ç—á–ª—ç—Ö
        function updateBiometricContent(message) {
            document.getElementById('biometricContent').innerHTML = `
                <div class="text-4xl mb-4">‚ùå</div>
                <p class="text-white">${message}</p>
            `;
        }

        // –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö —Ö—É–≤–∞–∞—Ä–∏–π–Ω –∑–∞–≥–≤–∞—Ä —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö
        function setEmployeeScheduleTemplate(template) {
            let startTime, endTime;
            
            switch(template) {
                case 'standard':
                    startTime = '09:00';
                    endTime = '18:00';
                    break;
                case 'flexible':
                    startTime = '10:00';
                    endTime = '19:00';
                    break;
                case 'early':
                    startTime = '08:00';
                    endTime = '17:00';
                    break;
            }
            
            document.getElementById('empStartTime').value = startTime;
            document.getElementById('empEndTime').value = endTime;
            
            // –ê–∂–ª—ã–Ω ”©–¥—Ä“Ø“Ø–¥ (–î–∞–≤–∞–∞-–ë–∞–∞—Å–∞–Ω –∏–¥—ç–≤—Ö—Ç—ç–π)
            document.getElementById('empMon').checked = true;
            document.getElementById('empTue').checked = true;
            document.getElementById('empWed').checked = true;
            document.getElementById('empThu').checked = true;
            document.getElementById('empFri').checked = true;
            document.getElementById('empSat').checked = false;
            document.getElementById('empSun').checked = false;
        }

        // –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö
        document.getElementById('addEmployeeForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('empName').value;
            const phone = document.getElementById('empPhone').value;
            const position = document.getElementById('empPosition').value;
            const password = document.getElementById('empPassword').value;
            const isAdmin = document.getElementById('empIsAdmin').checked;
            
            // –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö
            const startTime = document.getElementById('empStartTime').value;
            const endTime = document.getElementById('empEndTime').value;
            const workDays = {
                mon: document.getElementById('empMon').checked,
                tue: document.getElementById('empTue').checked,
                wed: document.getElementById('empWed').checked,
                thu: document.getElementById('empThu').checked,
                fri: document.getElementById('empFri').checked,
                sat: document.getElementById('empSat').checked,
                sun: document.getElementById('empSun').checked
            };
            
            // –ê–∂–∏–ª—Ç–∞–Ω –Ω—ç–º—ç—Ö
            addEmployeeToList(name, phone, position, startTime, endTime, workDays, isAdmin);
            
            // –ê–∂–∏–ª—Ç–Ω—ã–≥ employees –æ–±—ä–µ–∫—Ç–æ–¥ –Ω—ç–º—ç—Ö
            employees[phone] = {
                name: name,
                position: position,
                avatar: isAdmin ? 'üë®‚Äçüíº' : 'üë§',
                phone: phone,
                isAdmin: isAdmin
            };
            
            // –õ–æ–∫–∞–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            localStorage.setItem('employees', JSON.stringify(employees));
            
            // –§–æ—Ä–º —Ü—ç–≤—ç—Ä–ª—ç—Ö
            this.reset();
            
            // –°—Ç–∞–Ω–¥–∞—Ä—Ç —É—Ç–≥—É—É–¥ –±—É—Ü–∞–∞—Ö
            document.getElementById('empStartTime').value = '09:00';
            document.getElementById('empEndTime').value = '18:00';
            document.getElementById('empMon').checked = true;
            document.getElementById('empTue').checked = true;
            document.getElementById('empWed').checked = true;
            document.getElementById('empThu').checked = true;
            document.getElementById('empFri').checked = true;
            document.getElementById('empSat').checked = false;
            document.getElementById('empSun').checked = false;
            document.getElementById('empIsAdmin').checked = false;
            
            // –ê–º–∂–∏–ª—Ç—ã–Ω –º–µ—Å—Å–µ–∂
            const adminText = isAdmin ? ' (–ê–¥–º–∏–Ω —ç—Ä—Ö—Ç—ç–π)' : '';
            alert(`‚úÖ ${name} –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç!${adminText} –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å: ${startTime}-${endTime}`);
        });

        // –ê–∂–∏–ª—Ç–∞–Ω –∂–∞–≥—Å–∞–∞–ª—Ç–∞–¥ –Ω—ç–º—ç—Ö
        function addEmployeeToList(name, phone, position, startTime = '09:00', endTime = '18:00', workDays = null, isAdmin = false) {
            const employeeList = document.getElementById('employeeList');
            const newEmployee = document.createElement('div');
            newEmployee.className = 'bg-white/10 rounded-lg p-3 slide-in';
            
            // –ê–∂–ª—ã–Ω ”©–¥—Ä“Ø“Ø–¥–∏–π–Ω —Ç–æ–æ —Ç–æ–æ—Ü–æ–æ–ª–æ—Ö
            let workDaysCount = 5; // –°—Ç–∞–Ω–¥–∞—Ä—Ç
            if (workDays) {
                workDaysCount = Object.values(workDays).filter(day => day).length;
            }
            
            newEmployee.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <div>
                        <div class="text-white font-medium">${name} ${isAdmin ? 'üë®‚Äçüíº' : ''}</div>
                        <div class="text-white/70 text-sm">${phone} ‚Ä¢ ${position}${isAdmin ? ' ‚Ä¢ –ê–¥–º–∏–Ω' : ''}</div>
                        <div class="text-gray-300 text-xs">–ë–∏–æ–º–µ—Ç—Ä–∏–∫ –±“Ø—Ä—Ç–≥—ç–ª —Ö–∏–π–≥–¥—ç—ç–≥“Ø–π</div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="editSchedule('${phone}', '${name}')" class="text-blue-400 hover:text-blue-300">‚è∞</button>
                        <button onclick="removeEmployee('${phone}')" class="text-red-400 hover:text-red-300">üóëÔ∏è</button>
                    </div>
                </div>
                <div class="flex justify-between items-center text-xs">
                    <span class="text-gray-300">–ê–∂–∏–ª —ç—Ö–ª—ç—ç–≥“Ø–π</span>
                    <span class="text-white/70">${startTime}-${endTime} (${workDaysCount} ”©–¥”©—Ä)</span>
                </div>
            `;
            employeeList.appendChild(newEmployee);
            
            // –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å —Ö–∞–¥–≥–∞–ª–∞—Ö
            const schedule = {
                mon: { active: workDays?.mon ?? true, start: startTime, end: endTime },
                tue: { active: workDays?.tue ?? true, start: startTime, end: endTime },
                wed: { active: workDays?.wed ?? true, start: startTime, end: endTime },
                thu: { active: workDays?.thu ?? true, start: startTime, end: endTime },
                fri: { active: workDays?.fri ?? true, start: startTime, end: endTime },
                sat: { active: workDays?.sat ?? false, start: startTime, end: endTime },
                sun: { active: workDays?.sun ?? false, start: startTime, end: endTime }
            };
            
            localStorage.setItem(`schedule_${phone}`, JSON.stringify(schedule));
        }

        // –ê–∂–∏–ª—Ç–∞–Ω —Ö–∞—Å–∞—Ö
        function removeEmployee(phone) {
            if (confirm('–≠–Ω—ç –∞–∂–∏–ª—Ç–Ω—ã–≥ —É—Å—Ç–≥–∞—Ö–¥–∞–∞ –∏—Ç–≥—ç–ª—Ç—ç–π –±–∞–π–Ω–∞ —É—É?')) {
                // DOM-–æ–æ—Å —Ö–∞—Å–∞—Ö –ª–æ–≥–∏–∫ —ç–Ω–¥ –±–∞–π—Ö
                alert(`–ê–∂–∏–ª—Ç–∞–Ω ${phone} —É—Å—Ç–≥–∞–≥–¥–ª–∞–∞`);
            }
        }

        // –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å –∑–∞—Å–∞—Ö
        let currentEditingEmployee = null;
        
        function editSchedule(phone, name) {
            currentEditingEmployee = { phone, name };
            document.getElementById('scheduleModalTitle').textContent = `‚è∞ ${name}-—ã–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å`;
            
            // –•–∞–¥–≥–∞–ª–∞–≥–¥—Å–∞–Ω —Ö—É–≤–∞–∞—Ä–∏–π–≥ –∞—á–∞–∞–ª–∞—Ö
            const savedSchedule = localStorage.getItem(`schedule_${phone}`);
            if (savedSchedule) {
                const schedule = JSON.parse(savedSchedule);
                loadScheduleToForm(schedule);
            }
            
            document.getElementById('scheduleModal').classList.remove('hidden');
        }

        // –¶–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä–∏–π–Ω –º–æ–¥–∞–ª –Ω—É—É—Ö
        function hideScheduleModal() {
            document.getElementById('scheduleModal').classList.add('hidden');
            currentEditingEmployee = null;
        }

        // –•—É–≤–∞–∞—Ä–∏–π–≥ —Ñ–æ—Ä–º–¥ –∞—á–∞–∞–ª–∞—Ö
        function loadScheduleToForm(schedule) {
            const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];
            
            days.forEach(day => {
                if (schedule[day]) {
                    document.getElementById(`${day}_active`).checked = schedule[day].active;
                    document.getElementById(`${day}_start`).value = schedule[day].start;
                    document.getElementById(`${day}_end`).value = schedule[day].end;
                }
            });
        }

        // –•—É–≤–∞–∞—Ä–∏–π–Ω –∑–∞–≥–≤–∞—Ä —Ö—ç—Ä—ç–≥–ª—ç—Ö
        function applyScheduleTemplate(template) {
            const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];
            
            let startTime, endTime, weekdaysOnly = true;
            
            switch(template) {
                case 'standard':
                    startTime = '09:00';
                    endTime = '18:00';
                    break;
                case 'flexible':
                    startTime = '10:00';
                    endTime = '19:00';
                    break;
                case 'early':
                    startTime = '08:00';
                    endTime = '17:00';
                    break;
            }
            
            days.forEach((day, index) => {
                const isWeekend = index >= 5; // –ë—è–º–±–∞, –ù—è–º
                
                document.getElementById(`${day}_active`).checked = weekdaysOnly ? !isWeekend : true;
                document.getElementById(`${day}_start`).value = startTime;
                document.getElementById(`${day}_end`).value = endTime;
            });
        }

        // –•—É–≤–∞–∞—Ä—å —Ö–∞–¥–≥–∞–ª–∞—Ö
        function saveSchedule() {
            if (!currentEditingEmployee) return;
            
            const days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];
            const schedule = {};
            
            days.forEach(day => {
                schedule[day] = {
                    active: document.getElementById(`${day}_active`).checked,
                    start: document.getElementById(`${day}_start`).value,
                    end: document.getElementById(`${day}_end`).value
                };
            });
            
            // –•—É–≤–∞–∞—Ä–∏–π–≥ —Ö–∞–¥–≥–∞–ª–∞—Ö
            localStorage.setItem(`schedule_${currentEditingEmployee.phone}`, JSON.stringify(schedule));
            
            // –ê–º–∂–∏–ª—Ç—ã–Ω –º–µ—Å—Å–µ–∂
            showMessage(`‚úÖ ${currentEditingEmployee.name}-—ã–Ω —Ö—É–≤–∞–∞—Ä—å —Ö–∞–¥–≥–∞–ª–∞–≥–¥–ª–∞–∞!`, 'bg-green-500/20');
            
            hideScheduleModal();
        }

        // –ë“Ø—Ö –∞–∂–∏–ª—Ç–Ω—ã —Ö—É–≤–∞–∞—Ä—å —Ö–∞—Ä—É—É–ª–∞—Ö
        function showBulkSchedule() {
            document.getElementById('bulkScheduleModal').classList.remove('hidden');
        }

        // –ë“Ø—Ö –∞–∂–∏–ª—Ç–Ω—ã —Ö—É–≤–∞–∞—Ä–∏–π–Ω –º–æ–¥–∞–ª –Ω—É—É—Ö
        function hideBulkSchedule() {
            document.getElementById('bulkScheduleModal').classList.add('hidden');
        }

        // –¶–∞–≥ –ø–∞—Ä—Å —Ö–∏–π—Ö —Ñ—É–Ω–∫—Ü
        function parseTime(timeString) {
            const today = new Date();
            const [hours, minutes] = timeString.split(':').map(Number);
            return new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes);
        }

        // –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Ç–æ–æ—Ü–æ–æ–ª–æ–ª —ç—Ö–ª“Ø“Ø–ª—ç—Ö
        function startWorkTimeTracking() {
            if (workTimeInterval) {
                clearInterval(workTimeInterval);
            }
            
            workTimeInterval = setInterval(updateWorkStatus, 1000);
            updateWorkStatus();
        }

        // –ê–∂–ª—ã–Ω —Ü–∞–≥–∏–π–Ω —Ç–æ–æ—Ü–æ–æ–ª–æ–ª –∑–æ–≥—Å–æ–æ—Ö
        function stopWorkTimeTracking() {
            if (workTimeInterval) {
                clearInterval(workTimeInterval);
                workTimeInterval = null;
            }
        }

        // –ê–∂–ª—ã–Ω —Å—Ç–∞—Ç—É—Å —à–∏–Ω—ç—á–ª—ç—Ö
        function updateWorkStatus() {
            if (!workSession.isWorking || !workSession.checkInTime) return;
            
            const now = new Date();
            const workedMinutes = Math.floor((now - workSession.checkInTime) / (1000 * 60));
            const workedHours = Math.floor(workedMinutes / 60);
            const remainingMinutes = workedMinutes % 60;
            const workedTimeString = `${workedHours}:${remainingMinutes.toString().padStart(2, '0')}`;
            
            // –ê–∂–∏–ª–ª–∞—Å–∞–Ω —Ü–∞–≥ —Ö–∞—Ä—É—É–ª–∞—Ö
            document.getElementById('workedHours').textContent = workedTimeString;
            
            // –°—Ç–∞—Ç—É—Å —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ—Ö
            const requiredMinutes = workSession.requiredHours * 60;
            const statusIcon = document.getElementById('statusIcon');
            const statusText = document.getElementById('workStatusText');
            
            if (workedMinutes >= requiredMinutes) {
                statusIcon.textContent = '‚úÖ';
                statusText.textContent = '–ë“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞—Å–∞–Ω';
                statusText.className = 'text-lg font-bold text-green-300';
            } else if (workedMinutes >= requiredMinutes * 0.75) {
                statusIcon.textContent = 'üü°';
                statusText.textContent = '–ë–∞—Ä–∞–≥ –¥—É—É—Å–ª–∞–∞';
                statusText.className = 'text-lg font-bold text-yellow-300';
            } else {
                statusIcon.textContent = '‚è≥';
                statusText.textContent = '–ê–∂–∏–ª–ª–∞–∂ –±–∞–π–Ω–∞';
                statusText.className = 'text-lg font-bold text-blue-300';
            }
        }

        // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ü–∞–≥–∏–π–Ω —Ö—É–≤–∞–∞—Ä—å –∞—á–∞–∞–ª–∞—Ö
        function loadUserSchedule(phone) {
            const savedSchedule = localStorage.getItem(`schedule_${phone}`);
            if (savedSchedule) {
                const schedule = JSON.parse(savedSchedule);
                const today = new Date().getDay(); // 0=–ù—è–º, 1=–î–∞–≤–∞–∞, ...
                const dayNames = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
                const todaySchedule = schedule[dayNames[today]];
                
                if (todaySchedule && todaySchedule.active) {
                    workSession.scheduledStartTime = todaySchedule.start;
                    const startTime = parseTime(todaySchedule.start);
                    const endTime = parseTime(todaySchedule.end);
                    const scheduledHours = (endTime - startTime) / (1000 * 60 * 60);
                    workSession.requiredHours = Math.max(8, scheduledHours); // –•–∞–º–≥–∏–π–Ω –±–∞–≥–∞–¥–∞–∞ 8 —Ü–∞–≥
                    
                    document.getElementById('requiredHours').textContent = `${workSession.requiredHours}:00`;
                }
            }
        }

        // ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–ª—ã–Ω —Å—Ç–∞—Ç—É—Å –∞—á–∞–∞–ª–∞—Ö
        function loadTodayWorkStatus(phone) {
            const today = new Date().toDateString();
            const savedWorkData = localStorage.getItem(`work_${phone}_${today}`);
            
            if (savedWorkData) {
                const workData = JSON.parse(savedWorkData);
                if (workData.checkInTime && !workData.checkOutTime) {
                    // –ê–∂–∏–ª “Ø—Ä–≥—ç–ª–∂–∏–ª–∂ –±–∞–π–Ω–∞
                    workSession.checkInTime = new Date(workData.checkInTime);
                    workSession.isWorking = true;
                    
                    document.getElementById('checkInBtn').disabled = true;
                    document.getElementById('checkOutBtn').disabled = false;
                    
                    startWorkTimeTracking();
                }
            }
        }

        // ”®–Ω”©”©–¥—Ä–∏–π–Ω –∞–∂–ª—ã–Ω –º—ç–¥—ç—ç–ª—ç–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
        function saveTodayWorkData() {
            if (!workSession.currentUser) return;
            
            const today = new Date().toDateString();
            const workData = {
                checkInTime: workSession.checkInTime,
                checkOutTime: workSession.checkOutTime,
                requiredHours: workSession.requiredHours,
                scheduledStartTime: workSession.scheduledStartTime
            };
            
            localStorage.setItem(`work_${workSession.currentUser}_${today}`, JSON.stringify(workData));
        }

        // –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –ø—Ä–æ—Ñ–∞–π–ª –º—ç–¥—ç—ç–ª—ç–ª —à–∏–Ω—ç—á–ª—ç—Ö
        function updateUserProfile() {
            const userData = workSession.currentUserData;
            if (userData) {
                document.getElementById('userAvatar').textContent = userData.avatar;
                document.getElementById('userName').textContent = userData.name;
                document.getElementById('userPosition').textContent = userData.position;
                document.getElementById('userPhone').textContent = userData.phone;
            }
        }

        // –ü—Ä–æ—Ñ–∞–π–ª —Ö–∞—Ä—É—É–ª–∞—Ö
        function showProfile() {
            const userData = workSession.currentUserData;
            if (userData) {
                document.getElementById('profileAvatar').textContent = userData.avatar;
                document.getElementById('profileName').textContent = userData.name;
                document.getElementById('profilePosition').textContent = userData.position;
                document.getElementById('profilePhone').textContent = userData.phone;
                document.getElementById('editName').value = userData.name;
                document.getElementById('editPosition').value = userData.position;
            }
            document.getElementById('profileModal').classList.remove('hidden');
        }

        // –ü—Ä–æ—Ñ–∞–π–ª –Ω—É—É—Ö
        function hideProfile() {
            document.getElementById('profileModal').classList.add('hidden');
        }

        // –ü—Ä–æ—Ñ–∞–π–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
        function saveProfile() {
            const newName = document.getElementById('editName').value;
            const newPosition = document.getElementById('editPosition').value;
            
            if (newName && newPosition) {
                workSession.currentUserData.name = newName;
                workSession.currentUserData.position = newPosition;
                employees[workSession.currentUser] = workSession.currentUserData;
                
                // –ü—Ä–æ—Ñ–∞–π–ª –º—ç–¥—ç—ç–ª—ç–ª —à–∏–Ω—ç—á–ª—ç—Ö
                updateUserProfile();
                
                // –õ–æ–∫–∞–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
                localStorage.setItem('employees', JSON.stringify(employees));
                
                showMessage('‚úÖ –ü—Ä–æ—Ñ–∞–π–ª –∞–º–∂–∏–ª—Ç—Ç–∞–π —à–∏–Ω—ç—á–ª—ç–≥–¥–ª—ç—ç!', 'bg-green-500/20');
                hideProfile();
            }
        }

        // –ê–≤–∞—Ç–∞—Ä —Å–æ–Ω–≥–æ–≥—á —Ö–∞—Ä—É—É–ª–∞—Ö
        function showAvatarSelector() {
            document.getElementById('avatarModal').classList.remove('hidden');
        }

        // –ê–≤–∞—Ç–∞—Ä —Å–æ–Ω–≥–æ–≥—á –Ω—É—É—Ö
        function hideAvatarSelector() {
            document.getElementById('avatarModal').classList.add('hidden');
        }

        // –ê–≤–∞—Ç–∞—Ä —Å–æ–Ω–≥–æ—Ö
        function selectAvatar(avatar) {
            workSession.currentUserData.avatar = avatar;
            employees[workSession.currentUser] = workSession.currentUserData;
            
            // –ü—Ä–æ—Ñ–∞–π–ª –º—ç–¥—ç—ç–ª—ç–ª —à–∏–Ω—ç—á–ª—ç—Ö
            updateUserProfile();
            document.getElementById('profileAvatar').textContent = avatar;
            
            // –õ–æ–∫–∞–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
            localStorage.setItem('employees', JSON.stringify(employees));
            
            hideAvatarSelector();
            showMessage('‚úÖ –ê–≤–∞—Ç–∞—Ä —Å–æ–ª–∏–≥–¥–ª–æ–æ!', 'bg-green-500/20');
        }

        // –ß–∞—Ç —Ö–∞—Ä—É—É–ª–∞—Ö
        function showChat() {
            document.getElementById('chatModal').classList.remove('hidden');
            updateEmployeeListsForChat();
        }

        // –ß–∞—Ç –Ω—É—É—Ö
        function hideChat() {
            document.getElementById('chatModal').classList.add('hidden');
        }

        // –ß–∞—Ç—ã–Ω –∞–∂–∏–ª—Ç–Ω—ã –∂–∞–≥—Å–∞–∞–ª—Ç —à–∏–Ω—ç—á–ª—ç—Ö
        function updateEmployeeListsForChat() {
            const employeeListChat = document.getElementById('employeeListChat');
            const appreciationTo = document.getElementById('appreciationTo');
            
            employeeListChat.innerHTML = '';
            appreciationTo.innerHTML = '<option value="">–ê–∂–∏–ª—Ç–∞–Ω —Å–æ–Ω–≥–æ–Ω–æ —É—É</option>';
            
            Object.keys(employees).forEach(phone => {
                if (phone !== workSession.currentUser) {
                    const emp = employees[phone];
                    
                    // –ß–∞—Ç—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
                    const chatItem = document.createElement('div');
                    chatItem.className = 'bg-white/10 rounded-lg p-3 cursor-pointer hover:bg-white/20 transition-colors';
                    chatItem.onclick = () => selectChatUser(phone);
                    chatItem.innerHTML = `
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                                <span class="text-lg">${emp.avatar}</span>
                            </div>
                            <div>
                                <div class="text-white font-medium">${emp.name}</div>
                                <div class="text-white/70 text-sm">${emp.position}</div>
                            </div>
                        </div>
                    `;
                    employeeListChat.appendChild(chatItem);
                    
                    // –¢–∞–ª–∞—Ä—Ö–ª—ã–Ω –∂–∞–≥—Å–∞–∞–ª—Ç
                    const option = document.createElement('option');
                    option.value = phone;
                    option.textContent = `${emp.name} (${emp.position})`;
                    appreciationTo.appendChild(option);
                }
            });
        }

        // –ß–∞—Ç —Ö—ç—Ä—ç–≥–ª—ç–≥—á —Å–æ–Ω–≥–æ—Ö
        let selectedChatUser = null;
        
        function selectChatUser(phone) {
            selectedChatUser = phone;
            const emp = employees[phone];
            
            document.getElementById('chatHeader').classList.remove('hidden');
            document.getElementById('chatWithName').textContent = `${emp.name} (${emp.position})`;
            document.getElementById('chatInput').disabled = false;
            document.getElementById('sendBtn').disabled = false;
            
            // –ß–∞—Ç —Ç“Ø“Ø—Ö –∞—á–∞–∞–ª–∞—Ö
            loadChatHistory(phone);
        }

        // –ß–∞—Ç —Ç“Ø“Ø—Ö –∞—á–∞–∞–ª–∞—Ö
        function loadChatHistory(phone) {
            // –•–æ—ë—Ä —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö–æ–æ—Ä–æ–Ω–¥ –Ω—ç–≥ —á–∞—Ç —Ç“Ø“Ø—Ö –∞—à–∏–≥–ª–∞—Ö
            const user1 = workSession.currentUser;
            const user2 = phone;
            const chatKey = user1 < user2 ? `chat_${user1}_${user2}` : `chat_${user2}_${user1}`;
            
            const chatMessagesDiv = document.getElementById('chatMessages');
            chatMessagesDiv.innerHTML = '';
            
            const savedChat = localStorage.getItem(chatKey);
            if (savedChat) {
                const messages = JSON.parse(savedChat);
                
                messages.forEach(msg => {
                    const isFromCurrentUser = msg.from === workSession.currentUser;
                    addChatMessage(msg.from, msg.message, msg.timestamp, isFromCurrentUser);
                });
            } else {
                chatMessagesDiv.innerHTML = '<div class="text-white/70 text-center">–ß–∞—Ç —ç—Ö–ª“Ø“Ø–ª–Ω—ç “Ø“Ø</div>';
            }
        }

        // –ß–∞—Ç –º–µ—Å—Å–µ–∂ –Ω—ç–º—ç—Ö
        function addChatMessage(from, message, timestamp, fromSelf = false) {
            const chatMessagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `mb-3 ${fromSelf ? 'text-right' : 'text-left'}`;
            
            const time = new Date(timestamp).toLocaleTimeString('mn-MN', { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div class="inline-block max-w-xs ${fromSelf ? 'bg-blue-500' : 'bg-white/20'} rounded-lg p-3">
                    <div class="text-white text-sm">${message}</div>
                    <div class="text-white/70 text-xs mt-1">${time}</div>
                </div>
            `;
            
            chatMessagesDiv.appendChild(messageDiv);
            chatMessagesDiv.scrollTop = chatMessagesDiv.scrollHeight;
        }

        // –ú–µ—Å—Å–µ–∂ –∏–ª–≥—ç—ç—Ö
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message && selectedChatUser) {
                const timestamp = new Date().toISOString();
                
                // –ú–µ—Å—Å–µ–∂ —Ö–∞—Ä—É—É–ª–∞—Ö
                addChatMessage(workSession.currentUser, message, timestamp, true);
                
                // –ú–µ—Å—Å–µ–∂ —Ö–∞–¥–≥–∞–ª–∞—Ö
                saveChatMessage(selectedChatUser, message, timestamp);
                
                input.value = '';
                
                // –ñ–∏—à—ç—ç —Ö–∞—Ä–∏—É (–±–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º–¥ —ç–Ω—ç –±–∞–π—Ö–≥“Ø–π)
                setTimeout(() => {
                    const replies = [
                        '–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É!',
                        '–¢—É—Å–ª–∞–º–∂ —Ö—ç—Ä—ç–≥—Ç—ç–π —é—É?',
                        '–ë–∞—è—Ä–ª–∞–ª–∞–∞!',
                        '–û–π–ª–≥–æ–ª–æ–æ',
                        '–¢–∏–π–º —ç—ç'
                    ];
                    const randomReply = replies[Math.floor(Math.random() * replies.length)];
                    addChatMessage(selectedChatUser, randomReply, new Date().toISOString(), false);
                    saveChatMessage(selectedChatUser, randomReply, new Date().toISOString(), false);
                }, 1000 + Math.random() * 2000);
            }
        }

        // –ß–∞—Ç –º–µ—Å—Å–µ–∂ —Ö–∞–¥–≥–∞–ª–∞—Ö
        function saveChatMessage(otherUser, message, timestamp, fromSelf = true) {
            const sender = fromSelf ? workSession.currentUser : otherUser;
            
            // –•–æ—ë—Ä —Ö—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω —Ö–æ–æ—Ä–æ–Ω–¥ –Ω—ç–≥ —á–∞—Ç —Ç“Ø“Ø—Ö –∞—à–∏–≥–ª–∞—Ö
            const user1 = workSession.currentUser;
            const user2 = otherUser;
            const chatKey = user1 < user2 ? `chat_${user1}_${user2}` : `chat_${user2}_${user1}`;
            
            let messages = [];
            const savedChat = localStorage.getItem(chatKey);
            if (savedChat) {
                messages = JSON.parse(savedChat);
            }
            
            messages.push({
                from: sender,
                message: message,
                timestamp: timestamp
            });
            
            localStorage.setItem(chatKey, JSON.stringify(messages));
        }

        // Enter —Ç–æ–≤—á–æ–æ—Ä –º–µ—Å—Å–µ–∂ –∏–ª–≥—ç—ç—Ö
        document.addEventListener('DOMContentLoaded', function() {
            const chatInput = document.getElementById('chatInput');
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });

        // –¢–∞–ª–∞—Ä—Ö–∞–ª —Ö–∞—Ä—É—É–ª–∞—Ö
        function showAppreciation() {
            document.getElementById('appreciationModal').classList.remove('hidden');
            updateEmployeeListsForChat();
            loadReceivedAppreciations();
        }

        // –¢–∞–ª–∞—Ä—Ö–∞–ª –Ω—É—É—Ö
        function hideAppreciation() {
            document.getElementById('appreciationModal').classList.add('hidden');
        }

        // –¢–∞–ª–∞—Ä—Ö–∞–ª –∏–ª–≥—ç—ç—Ö
        function sendAppreciation() {
            const to = document.getElementById('appreciationTo').value;
            const type = document.getElementById('appreciationType').value;
            const message = document.getElementById('appreciationMessage').value.trim();
            
            if (to && message) {
                const appreciation = {
                    from: workSession.currentUser,
                    fromName: workSession.currentUserData.name,
                    fromAvatar: workSession.currentUserData.avatar,
                    to: to,
                    type: type,
                    message: message,
                    timestamp: new Date().toISOString()
                };
                
                // –¢–∞–ª–∞—Ä—Ö–∞–ª —Ö–∞–¥–≥–∞–ª–∞—Ö
                let appreciations = [];
                const savedAppreciations = localStorage.getItem(`appreciations_${to}`);
                if (savedAppreciations) {
                    appreciations = JSON.parse(savedAppreciations);
                }
                
                appreciations.push(appreciation);
                localStorage.setItem(`appreciations_${to}`, JSON.stringify(appreciations));
                
                // –§–æ—Ä–º —Ü—ç–≤—ç—Ä–ª—ç—Ö
                document.getElementById('appreciationTo').value = '';
                document.getElementById('appreciationMessage').value = '';
                
                showMessage('üôè –¢–∞–ª–∞—Ä—Ö–∞–ª –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–ª–≥—ç—ç–≥–¥–ª—ç—ç!', 'bg-yellow-500/20');
            }
        }

        // –•“Ø–ª—ç—ç–Ω –∞–≤—Å–∞–Ω —Ç–∞–ª–∞—Ä—Ö–ª—É—É–¥ –∞—á–∞–∞–ª–∞—Ö
        function loadReceivedAppreciations() {
            const appreciationsDiv = document.getElementById('receivedAppreciations');
            const savedAppreciations = localStorage.getItem(`appreciations_${workSession.currentUser}`);
            
            appreciationsDiv.innerHTML = '';
            
            if (savedAppreciations) {
                const appreciations = JSON.parse(savedAppreciations);
                
                if (appreciations.length > 0) {
                    appreciations.reverse().forEach(app => {
                        const appDiv = document.createElement('div');
                        appDiv.className = 'bg-white/10 rounded-lg p-4 slide-in';
                        
                        const typeIcons = {
                            'thanks': 'üôè',
                            'great_work': 'üëè',
                            'helpful': 'ü§ù',
                            'creative': 'üí°',
                            'teamwork': 'üë•',
                            'leadership': 'üåü'
                        };
                        
                        const typeNames = {
                            'thanks': '–¢–∞–ª–∞—Ä—Ö–∞–ª',
                            'great_work': '–°–∞–π–Ω –∞–∂–∏–ª',
                            'helpful': '–¢—É—Å–ª–∞–º–∂',
                            'creative': '–ë“Ø—Ç—ç—ç–ª—á',
                            'teamwork': '–ë–∞–≥–∏–π–Ω –∞–∂–∏–ª',
                            'leadership': '–£–¥–∏—Ä–¥–ª–∞–≥–∞'
                        };
                        
                        const time = new Date(app.timestamp).toLocaleDateString('mn-MN');
                        
                        appDiv.innerHTML = `
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
                                    <span class="text-lg">${app.fromAvatar}</span>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <span class="text-xl">${typeIcons[app.type]}</span>
                                        <span class="text-white font-medium">${typeNames[app.type]}</span>
                                        <span class="text-white/70 text-sm">‚Ä¢ ${time}</span>
                                    </div>
                                    <div class="text-white/90 text-sm mb-2">${app.message}</div>
                                    <div class="text-white/70 text-xs">- ${app.fromName}</div>
                                </div>
                            </div>
                        `;
                        
                        appreciationsDiv.appendChild(appDiv);
                    });
                } else {
                    appreciationsDiv.innerHTML = '<div class="text-white/70 text-center py-8">–û–¥–æ–æ–≥–æ–æ—Ä —Ç–∞–ª–∞—Ä—Ö–∞–ª –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞</div>';
                }
            } else {
                appreciationsDiv.innerHTML = '<div class="text-white/70 text-center py-8">–û–¥–æ–æ–≥–æ–æ—Ä —Ç–∞–ª–∞—Ä—Ö–∞–ª –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞</div>';
            }
        }

        // –•–∞–¥–≥–∞–ª–∞–≥–¥—Å–∞–Ω –∞–∂–∏–ª—Ç–Ω—É—É–¥—ã–≥ –∞—á–∞–∞–ª–∞—Ö
        function loadSavedEmployees() {
            const savedEmployees = localStorage.getItem('employees');
            if (savedEmployees) {
                const loadedEmployees = JSON.parse(savedEmployees);
                Object.assign(employees, loadedEmployees);
            }
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞—Ä—É—É–ª–∞—Ö
        function showNotificationSettings() {
            document.getElementById('notificationModal').classList.remove('hidden');
            loadNotificationSettings();
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ –Ω—É—É—Ö
        function hideNotificationSettings() {
            document.getElementById('notificationModal').classList.add('hidden');
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ –∞—á–∞–∞–ª–∞—Ö
        function loadNotificationSettings() {
            const settings = localStorage.getItem('notificationSettings');
            if (settings) {
                const config = JSON.parse(settings);
                
                // Email —Ç–æ—Ö–∏—Ä–≥–æ–æ
                document.getElementById('smtpServer').value = config.smtp?.server || '';
                document.getElementById('smtpPort').value = config.smtp?.port || '';
                document.getElementById('smtpSSL').checked = config.smtp?.ssl || false;
                document.getElementById('smtpEmail').value = config.smtp?.email || '';
                document.getElementById('smtpPassword').value = config.smtp?.password || '';
                
                // SMS —Ç–æ—Ö–∏—Ä–≥–æ–æ
                document.getElementById('smsApiKey').value = config.sms?.apiKey || '';
                document.getElementById('smsProvider').value = config.sms?.provider || 'twilio';
                document.getElementById('smsFrom').value = config.sms?.from || '';
                
                // –ú—ç–¥—ç–≥–¥–ª–∏–π–Ω —Ç”©—Ä–ª“Ø“Ø–¥
                document.getElementById('notifyLate').checked = config.notifications?.late !== false;
                document.getElementById('notifyAbsent').checked = config.notifications?.absent !== false;
                document.getElementById('notifyEarlyLeave').checked = config.notifications?.earlyLeave !== false;
                document.getElementById('notifyOvertime').checked = config.notifications?.overtime !== false;
                document.getElementById('notifyDailyReport').checked = config.notifications?.dailyReport !== false;
                document.getElementById('notifyWeeklyReport').checked = config.notifications?.weeklyReport || false;
            }
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞–¥–≥–∞–ª–∞—Ö
        function saveNotificationSettings() {
            const settings = {
                smtp: {
                    server: document.getElementById('smtpServer').value,
                    port: document.getElementById('smtpPort').value,
                    ssl: document.getElementById('smtpSSL').checked,
                    email: document.getElementById('smtpEmail').value,
                    password: document.getElementById('smtpPassword').value
                },
                sms: {
                    apiKey: document.getElementById('smsApiKey').value,
                    provider: document.getElementById('smsProvider').value,
                    from: document.getElementById('smsFrom').value
                },
                notifications: {
                    late: document.getElementById('notifyLate').checked,
                    absent: document.getElementById('notifyAbsent').checked,
                    earlyLeave: document.getElementById('notifyEarlyLeave').checked,
                    overtime: document.getElementById('notifyOvertime').checked,
                    dailyReport: document.getElementById('notifyDailyReport').checked,
                    weeklyReport: document.getElementById('notifyWeeklyReport').checked
                }
            };
            
            localStorage.setItem('notificationSettings', JSON.stringify(settings));
            showMessage('‚úÖ –ú—ç–¥—ç–≥–¥—ç–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä–≥–æ–æ —Ö–∞–¥–≥–∞–ª–∞–≥–¥–ª–∞–∞!', 'bg-green-500/20');
            hideNotificationSettings();
            
            // –ê–≤—Ç–æ–º–∞—Ç –º—ç–¥—ç–≥–¥—ç–ª —ç—Ö–ª“Ø“Ø–ª—ç—Ö
            startNotificationSystem();
        }

        // Email —Ç–µ—Å—Ç –∏–ª–≥—ç—ç—Ö
        function testEmailSettings() {
            const server = document.getElementById('smtpServer').value;
            const email = document.getElementById('smtpEmail').value;
            
            if (!server || !email) {
                alert('‚ùå SMTP —Å–µ—Ä–≤–µ—Ä –±–æ–ª–æ–Ω email —Ö–∞—è–≥–∏–π–≥ –±”©–≥–ª”©–Ω”© “Ø“Ø!');
                return;
            }
            
            // –ñ–∏—à—ç—ç email –∏–ª–≥—ç—ç—Ö (–±–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º–¥ SMTP —Ö–æ–ª–±–æ–ª—Ç —Ö–∏–π–≥–¥—ç–Ω—ç)
            showMessage('üìß Email —Ç–µ—Å—Ç –∏–ª–≥—ç—ç–≥–¥—ç–∂ –±–∞–π–Ω–∞...', 'bg-blue-500/20');
            
            setTimeout(() => {
                showMessage('‚úÖ Email –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–ª–≥—ç—ç–≥–¥–ª—ç—ç! (Demo —Ä–µ–∂–∏–º)', 'bg-green-500/20');
            }, 2000);
        }

        // SMS —Ç–µ—Å—Ç –∏–ª–≥—ç—ç—Ö
        function testSMSSettings() {
            const apiKey = document.getElementById('smsApiKey').value;
            const from = document.getElementById('smsFrom').value;
            
            if (!apiKey || !from) {
                alert('‚ùå API —Ç“Ø–ª—Ö“Ø“Ø—Ä –±–æ–ª–æ–Ω –∏–ª–≥—ç—ç–≥—á–∏–π–Ω –¥—É–≥–∞–∞—Ä—ã–≥ –±”©–≥–ª”©–Ω”© “Ø“Ø!');
                return;
            }
            
            // –ñ–∏—à—ç—ç SMS –∏–ª–≥—ç—ç—Ö (–±–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º–¥ SMS API —Ö–æ–ª–±–æ–ª—Ç —Ö–∏–π–≥–¥—ç–Ω—ç)
            showMessage('üì± SMS —Ç–µ—Å—Ç –∏–ª–≥—ç—ç–≥–¥—ç–∂ –±–∞–π–Ω–∞...', 'bg-blue-500/20');
            
            setTimeout(() => {
                showMessage('‚úÖ SMS –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–ª–≥—ç—ç–≥–¥–ª—ç—ç! (Demo —Ä–µ–∂–∏–º)', 'bg-green-500/20');
            }, 1500);
        }

        // –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–∞–π–ª–∞–Ω —Ö–∞—Ä—É—É–ª–∞—Ö
        function showDetailedReports() {
            document.getElementById('detailedReportsModal').classList.remove('hidden');
            generateReportData();
        }

        // –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Ç–∞–π–ª–∞–Ω –Ω—É—É—Ö
        function hideDetailedReports() {
            document.getElementById('detailedReportsModal').classList.add('hidden');
        }

        // –¢–∞–π–ª–∞–Ω–≥–∏–π–Ω ”©–≥”©–≥–¥”©–ª “Ø“Ø—Å–≥—ç—Ö
        function generateReportData() {
            // Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —à–∏–Ω—ç—á–ª—ç—Ö
            const stats = {
                avgWorkHours: (7.5 + Math.random() * 1).toFixed(1),
                onTimeRate: Math.floor(80 + Math.random() * 15) + '%',
                productivityScore: Math.floor(85 + Math.random() * 15)
            };
            
            document.getElementById('avgWorkHours').textContent = stats.avgWorkHours;
            document.getElementById('onTimeRate').textContent = stats.onTimeRate;
            document.getElementById('productivityScore').textContent = stats.productivityScore;
        }

        // –¢–∞–π–ª–∞–Ω —ç–∫—Å–ø–æ—Ä—Ç —Ö–∏–π—Ö
        function exportReport(format) {
            if (format === 'excel') {
                // Excel —Ñ–∞–π–ª “Ø“Ø—Å–≥—ç—Ö (–∂–∏—à—ç—ç)
                const csvContent = `–ê–∂–∏–ª—Ç–∞–Ω,–ê–ª–±–∞–Ω —Ç—É—à–∞–∞–ª,–ò—Ä—Ü,–ê–∂–ª—ã–Ω —Ü–∞–≥,–°—Ç–∞—Ç—É—Å
–ë–∞—Ç–±–∞—è—Ä,–ü—Ä–æ–≥—Ä–∞–º–∏—Å—Ç,100%,8.5,–°–∞–π–Ω
–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª,–î–∏–∑–∞–π–Ω–µ—Ä,95%,8.2,–°–∞–π–Ω
–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä,–ú–µ–Ω–µ–∂–µ—Ä,88%,7.8,–î—É–Ω–¥–∞–∂`;
                
                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = `TimeTrack_Report_${new Date().toISOString().split('T')[0]}.csv`;
                link.click();
                
                showMessage('üìä Excel —Ç–∞–π–ª–∞–Ω —Ç–∞—Ç–∞–≥–¥–ª–∞–∞!', 'bg-green-500/20');
            } else if (format === 'pdf') {
                // PDF “Ø“Ø—Å–≥—ç—Ö (–∂–∏—à—ç—ç)
                showMessage('üìÑ PDF —Ç–∞–π–ª–∞–Ω –±—ç–ª—Ç–≥—ç–≥–¥—ç–∂ –±–∞–π–Ω–∞...', 'bg-blue-500/20');
                
                setTimeout(() => {
                    showMessage('‚úÖ PDF —Ç–∞–π–ª–∞–Ω –±—ç–ª—ç–Ω! (Demo —Ä–µ–∂–∏–º)', 'bg-green-500/20');
                }, 2000);
            }
        }

        // –ú—ç–¥—ç–≥–¥–ª–∏–π–Ω —Å–∏—Å—Ç–µ–º —ç—Ö–ª“Ø“Ø–ª—ç—Ö
        function startNotificationSystem() {
            // –¶–∞–≥ —Ç—É—Ç–∞–º–¥ —à–∞–ª–≥–∞—Ö
            setInterval(checkForNotifications, 60000); // 1 –º–∏–Ω—É—Ç —Ç—É—Ç–∞–º
            
            // ”®–¥”©—Ä —Ç—É—Ç–º—ã–Ω —Ç–∞–π–ª–∞–Ω (17:00-–¥)
            setInterval(sendDailyReport, 3600000); // 1 —Ü–∞–≥ —Ç—É—Ç–∞–º —à–∞–ª–≥–∞—Ö
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª —à–∞–ª–≥–∞—Ö
        function checkForNotifications() {
            const settings = localStorage.getItem('notificationSettings');
            if (!settings) return;
            
            const config = JSON.parse(settings);
            const now = new Date();
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            // –•–æ—Ü–æ—Ä—Å–æ–Ω –∞–∂–∏–ª—Ç–∞–Ω —à–∞–ª–≥–∞—Ö (09:30-–∞–∞—Å —Ö–æ–π—à)
            if (config.notifications?.late && currentTime > 570) { // 09:30
                checkLateEmployees();
            }
            
            // –ò—Ä—ç—ç–≥“Ø–π –∞–∂–∏–ª—Ç–∞–Ω —à–∞–ª–≥–∞—Ö (10:00-–∞–∞—Å —Ö–æ–π—à)
            if (config.notifications?.absent && currentTime > 600) { // 10:00
                checkAbsentEmployees();
            }
        }

        // –•–æ—Ü–æ—Ä—Å–æ–Ω –∞–∂–∏–ª—Ç–∞–Ω —à–∞–ª–≥–∞—Ö
        function checkLateEmployees() {
            // –ñ–∏—à—ç—ç –ª–æ–≥–∏–∫ - –±–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º–¥ database-–∞–∞—Å –∞–≤–Ω–∞
            const lateEmployees = ['–°–∞—Ä–∞–Ω–≥—ç—Ä—ç–ª', '–ë–æ–ª–¥–±–∞–∞—Ç–∞—Ä'];
            
            if (lateEmployees.length > 0) {
                sendNotification('late', `‚ö†Ô∏è –•–æ—Ü–æ—Ä—Å–æ–Ω –∞–∂–∏–ª—Ç–Ω—É—É–¥: ${lateEmployees.join(', ')}`);
            }
        }

        // –ò—Ä—ç—ç–≥“Ø–π –∞–∂–∏–ª—Ç–∞–Ω —à–∞–ª–≥–∞—Ö
        function checkAbsentEmployees() {
            // –ñ–∏—à—ç—ç –ª–æ–≥–∏–∫
            const absentEmployees = ['–ê–∂–∏–ª—Ç–∞–Ω 1', '–ê–∂–∏–ª—Ç–∞–Ω 2'];
            
            if (absentEmployees.length > 0) {
                sendNotification('absent', `‚ùå –ò—Ä—ç—ç–≥“Ø–π –∞–∂–∏–ª—Ç–Ω—É—É–¥: ${absentEmployees.join(', ')}`);
            }
        }

        // –ú—ç–¥—ç–≥–¥—ç–ª –∏–ª–≥—ç—ç—Ö
        function sendNotification(type, message) {
            // Browser notification
            if (Notification.permission === 'granted') {
                new Notification('TimeTrack Pro', {
                    body: message,
                    icon: '‚è∞'
                });
            }
            
            // Email –∏–ª–≥—ç—ç—Ö (–∂–∏—à—ç—ç)
            console.log(`Email notification: ${message}`);
            
            // SMS –∏–ª–≥—ç—ç—Ö (–∂–∏—à—ç—ç)
            console.log(`SMS notification: ${message}`);
        }

        // ”®–¥—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω –∏–ª–≥—ç—ç—Ö
        function sendDailyReport() {
            const now = new Date();
            if (now.getHours() === 17 && now.getMinutes() === 0) { // 17:00
                const settings = localStorage.getItem('notificationSettings');
                if (settings) {
                    const config = JSON.parse(settings);
                    if (config.notifications?.dailyReport) {
                        const report = generateDailyReportText();
                        sendNotification('daily_report', report);
                    }
                }
            }
        }

        // ”®–¥—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω–≥–∏–π–Ω —Ç–µ–∫—Å—Ç “Ø“Ø—Å–≥—ç—Ö
        function generateDailyReportText() {
            return `üìä ”®–Ω”©”©–¥—Ä–∏–π–Ω —Ç–∞–π–ª–∞–Ω:
‚Ä¢ –ò—Ä—Å—ç–Ω: 189/247 (76.5%)
‚Ä¢ –•–æ—Ü–æ—Ä—Å–æ–Ω: 23 –∞–∂–∏–ª—Ç–∞–Ω
‚Ä¢ –î—É–Ω–¥–∞–∂ –∞–∂–ª—ã–Ω —Ü–∞–≥: 7.8 —Ü–∞–≥
‚Ä¢ –ë“Ø—Ç—ç—ç–º–∂–∏–π–Ω –æ–Ω–æ–æ: 92%`;
        }

        // Browser notification –∑”©–≤—à”©”©—Ä”©–ª –∞–≤–∞—Ö
        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }

        // –•—É—É–¥–∞—Å –∞—á–∞–∞–ª–∞–≥–¥–∞—Ö “Ø–µ–¥
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedEmployees();
            requestNotificationPermission();
            startNotificationSystem();
            
            // Real-time —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ —à–∏–Ω—ç—á–ª—ç—Ö
            setInterval(generateReportData, 30000); // 30 —Å–µ–∫—É–Ω–¥ —Ç—É—Ç–∞–º
        });


    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96d85a0910a61531',t:'MTc1NDkyMTc5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
